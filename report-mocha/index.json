{
  "stats": {
    "suites": 16,
    "tests": 27,
    "passes": 27,
    "pending": 0,
    "failures": 0,
    "start": "2020-05-15T21:04:22.352Z",
    "end": "2020-05-15T21:04:26.451Z",
    "duration": 4099,
    "testsRegistered": 27,
    "passPercent": 100,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "ff43af4d-d49a-431e-808c-34e9e260dbf1",
      "title": "",
      "fullFile": "",
      "file": "",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "da411dee-fcec-43d6-b69d-4955e8853d83",
          "title": "Questions",
          "fullFile": "C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\questions.js",
          "file": "\\server-side\\tests\\questions.js",
          "beforeHooks": [
            {
              "title": "\"before each\" hook",
              "fullTitle": "Questions \"before each\" hook",
              "timedOut": false,
              "duration": 6,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "//Before each test we empty the database\n       Question.deleteMany({}, (err) => {\n           done();\n       });",
              "err": {},
              "uuid": "52848980-022e-477e-87d2-d265ae862cae",
              "parentUUID": "da411dee-fcec-43d6-b69d-4955e8853d83",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [],
          "suites": [
            {
              "uuid": "3cc5dd0c-8e3b-4a91-a42f-e271b30e801d",
              "title": "/GET questions",
              "fullFile": "C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\questions.js",
              "file": "\\server-side\\tests\\questions.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "it should GET all the question",
                  "fullTitle": "Questions /GET questions it should GET all the question",
                  "timedOut": false,
                  "duration": 266,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res) => {\n                    chai.request(server)\n                        .get(`/server/api/questions`)\n                        .set('Authorization', res.body.token)\n                        .end((err, res) => {\n                            res.should.have.status(204);\n                            res.body.should.be.a('object');\n                            Object.keys(res.body).length.should.be.eql(0);\n                            done();\n                        });\n                });",
                  "err": {},
                  "uuid": "bdb6fff8-221d-45b1-a5a0-6806bf66c0bd",
                  "parentUUID": "3cc5dd0c-8e3b-4a91-a42f-e271b30e801d",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "bdb6fff8-221d-45b1-a5a0-6806bf66c0bd"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 266,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "4466e706-bc39-4bd1-a32e-3029f2436b01",
              "title": "/POST questions",
              "fullFile": "C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\questions.js",
              "file": "\\server-side\\tests\\questions.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "it should not POST a question without a type field",
                  "fullTitle": "Questions /POST questions it should not POST a question without a type field",
                  "timedOut": false,
                  "duration": 173,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            const question = {\n                \"question\": \"what's 2000 - 150 ?\",\n                \"answers\": [{\"option\": \"true\", \"isCorrect\": true},\n                    {\"option\": \"false\", \"isCorrect\": false}\n                ]\n            };\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res) => {\n                    chai.request(server)\n                        .post('/server/api/questions')\n                        .send(question)\n                        .set('Authorization', res.body.token)\n                        .end((err, res) => {\n                            res.should.have.status(405);\n                            res.body.should.have\n                                .property('message').eql('Invalid input');\n                            res.body.error.should.have\n                                .property('name').eql('ValidationError');\n                            res.body.error.should.have.property('errors');\n                            res.body.should.be.a('object');\n                            done();\n                        });\n                });",
                  "err": {},
                  "uuid": "97b09fcf-191f-4f95-94b5-b270bab7f6ac",
                  "parentUUID": "4466e706-bc39-4bd1-a32e-3029f2436b01",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "it should POST a question ",
                  "fullTitle": "Questions /POST questions it should POST a question ",
                  "timedOut": false,
                  "duration": 192,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            const question = new Question({\n                \"type\": \"boolean\", \"question\": \"what's 2000 - 150 ?\",\n                \"answers\": [{\"option\": \"true\", \"isCorrect\": true},\n                    {\"option\": \"false\", \"isCorrect\": false}\n                ]\n            });\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res) => {\n                    chai.request(server)\n                        .post('/server/api/questions')\n                        .send(question)\n                        .set('Authorization', res.body.token)\n                        .end((err, res) => {\n                            res.should.have.status(201);\n                            res.body.should.be.a('object');\n                            res.body.createdQuestion.should.be.a('object');\n                            res.body.should.have\n                                .property('message')\n                                .eql('Created question successfully !');\n                            done();\n                        });\n                });",
                  "err": {},
                  "uuid": "fd69932b-fc8f-4323-aed1-96f0fa266585",
                  "parentUUID": "4466e706-bc39-4bd1-a32e-3029f2436b01",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "97b09fcf-191f-4f95-94b5-b270bab7f6ac",
                "fd69932b-fc8f-4323-aed1-96f0fa266585"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 365,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "17068fc9-e279-436f-a060-f81daf5c7cda",
              "title": "/GET/:id question",
              "fullFile": "C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\questions.js",
              "file": "\\server-side\\tests\\questions.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "it should GET a question by the given id",
                  "fullTitle": "Questions /GET/:id question it should GET a question by the given id",
                  "timedOut": false,
                  "duration": 138,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            const question = new Question({\n                \"type\": \"boolean\",\n                \"question\": \"what's 2000 - 150 ?\",\n                \"answers\": [{\"option\": \"true\", \"isCorrect\": true},\n                    {\"option\": \"false\", \"isCorrect\": false}\n                ]\n            });\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res1) => {\n                    chai.request(server)\n                        .post('/server/api/questions')\n                        .send(question)\n                        .set('Authorization', res1.body.token)\n                        .end((err, res2) => {\n                            const questionId = res2.body.createdQuestion.id;\n                            chai.request(server)\n                                .get(`/server/api/questions/${questionId}`)\n                                .set('Authorization', res1.body.token)\n                                .end((err, res3) => {\n                                    res3.should.have.status(200);\n                                    res3.body[0].should.have\n                                        .property('question')\n                                        .eql(\"what's 2000 - 150 ?\");\n                                });\n                        });\n                    done();\n                });",
                  "err": {},
                  "uuid": "23f63778-4f0d-41fc-bab1-0323db2b736a",
                  "parentUUID": "17068fc9-e279-436f-a060-f81daf5c7cda",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "it should not GET a question with a wrong id",
                  "fullTitle": "Questions /GET/:id question it should not GET a question with a wrong id",
                  "timedOut": false,
                  "duration": 174,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res1) => {\n                    chai.request(server)\n                        .get('/server/api/questions/1f468dbf5082002118fc8821')\n                        .set('Authorization', res1.body.token)\n                        .end((err, res2) => {\n                            res2.should.have.status(404);\n                            res2.body.should.have\n                                .property('message')\n                                .eql('No valid entry found for provided ID');\n                            done();\n                        });\n                });",
                  "err": {},
                  "uuid": "91710c49-08b4-4447-8098-dc00e7839294",
                  "parentUUID": "17068fc9-e279-436f-a060-f81daf5c7cda",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "23f63778-4f0d-41fc-bab1-0323db2b736a",
                "91710c49-08b4-4447-8098-dc00e7839294"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 312,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "e2fed80e-1ea8-4ec3-90f1-beac93473c4c",
              "title": "/PATCH/:id question",
              "fullFile": "C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\questions.js",
              "file": "\\server-side\\tests\\questions.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "it should not PATCH a question with a wrong id",
                  "fullTitle": "Questions /PATCH/:id question it should not PATCH a question with a wrong id",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            const question = {\n                \"type\": \"boolean\",\n                \"question\": \"what's 2000 - 150 ?\",\n                \"answers\": [{\"option\": \"true\", \"isCorrect\": true},\n                    {\"option\": \"false\", \"isCorrect\": false}\n                ]\n            };\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res1) => {\n                    chai.request(server)\n                        .patch('/server/api/questions/5e97314f7cb39f58e4e21ed6')\n                        .send(question)\n                        .set('Authorization', res1.body.token)\n                        .end((err, res2) => {\n                            res2.should.have.status(404);\n                            res2.body.should.be.a('object');\n                            res2.body.should.have\n                                .property('message')\n                                .eql('No valid entry found for provided ID');\n                        });\n                });\n            done();",
                  "err": {},
                  "uuid": "81b198b7-2c2e-4a54-b656-8f2da2ad8604",
                  "parentUUID": "e2fed80e-1ea8-4ec3-90f1-beac93473c4c",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "it should PATCH a question by the given id",
                  "fullTitle": "Questions /PATCH/:id question it should PATCH a question by the given id",
                  "timedOut": false,
                  "duration": 3,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            const question = new Question({\n                \"type\": \"multiple\",\n                \"question\": \"what's 22 - 150 ?\",\n                \"answers\": [{\"option\": \"true\", \"isCorrect\": true},\n                    {\"option\": \"false\", \"isCorrect\": false}\n                ]\n            });\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res1) => {\n                    chai.request(server)\n                        .post('/server/api/questions')\n                        .send(question)\n                        .set('Authorization', res1.body.token)\n                        .end((err, res2) => {\n                            const questionId = res2.body.createdQuestion.id;\n                            question.type = \"boolean\";\n                            delete Object.values(question)[3]._id;\n                            delete Object.values(question)[3].__v;\n                            chai.request(server)\n                                .patch(`/server/api/questions/${questionId}`)\n                                .send(question)\n                                .set('Authorization', res1.body.token)\n                                .end((err, res3) => {\n                                    res3.should.have.status(200);\n                                    res3.body.should.have.property('message').eql('Question updated successfully !');\n                                    res3.body.should.have.property('modifiedDocs').eql(1);\n                                });\n                        });\n                });\n            done();",
                  "err": {},
                  "uuid": "25226255-608a-4d34-8a68-b58a2dd84638",
                  "parentUUID": "e2fed80e-1ea8-4ec3-90f1-beac93473c4c",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "81b198b7-2c2e-4a54-b656-8f2da2ad8604",
                "25226255-608a-4d34-8a68-b58a2dd84638"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 5,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "75ab7795-e100-405d-bbdb-7b5c0627997d",
              "title": "/DELETE/:id question",
              "fullFile": "C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\questions.js",
              "file": "\\server-side\\tests\\questions.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "it should DELETE a question by the given id",
                  "fullTitle": "Questions /DELETE/:id question it should DELETE a question by the given id",
                  "timedOut": false,
                  "duration": 208,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            const question = new Question({\n                \"type\": \"multiple\",\n                \"question\": \"what's 22 - 150 ?\",\n                \"answers\": [{\"option\": \"true\", \"isCorrect\": true},\n                    {\"option\": \"false\", \"isCorrect\": false}\n                ]\n            });\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res1) => {\n                    chai.request(server)\n                        .post('/server/api/questions')\n                        .send(question)\n                        .set('Authorization', res1.body.token)\n                        .end((err, res2) => {\n                            const questionId = res2.body.createdQuestion.id;\n                            chai.request(server)\n                                .delete(`/server/api/questions/${questionId}`)\n                                .set('Authorization', res1.body.token)\n                                .end((err, res3) => {\n                                    res3.should.have.status(200);\n                                });\n                        });\n                    done();\n                });",
                  "err": {},
                  "uuid": "24deaba0-85cb-4a99-8dcf-9d57d0e09171",
                  "parentUUID": "75ab7795-e100-405d-bbdb-7b5c0627997d",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "it should NOT DELETE a question with a wrong id",
                  "fullTitle": "Questions /DELETE/:id question it should NOT DELETE a question with a wrong id",
                  "timedOut": false,
                  "duration": 213,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res1) => {\n                    chai.request(server)\n                        .delete('/server/api/questions/1c7414e51167af71f81f4313')\n                        .set('Authorization', res1.body.token)\n                        .end((err, res2) => {\n                            res2.should.have.status(404);\n                            res2.body.should.have.property('message')\n                                .eql('No valid entry found for provided ID');\n                        });\n                    done();\n                });",
                  "err": {},
                  "uuid": "c8e0a5ce-c581-4f03-ae33-07dc07205086",
                  "parentUUID": "75ab7795-e100-405d-bbdb-7b5c0627997d",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "24deaba0-85cb-4a99-8dcf-9d57d0e09171",
                "c8e0a5ce-c581-4f03-ae33-07dc07205086"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 421,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            }
          ],
          "passes": [],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 0,
          "root": false,
          "rootEmpty": false,
          "_timeout": 30000
        },
        {
          "uuid": "a48fe3c2-43cf-4cdc-98b8-e15f8c4687cc",
          "title": "Reviews",
          "fullFile": "C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\reviews.js",
          "file": "\\server-side\\tests\\reviews.js",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [],
          "suites": [
            {
              "uuid": "e2bb3566-7648-49a4-9282-7750d0fafe6d",
              "title": "/GET reviews",
              "fullFile": "C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\reviews.js",
              "file": "\\server-side\\tests\\reviews.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "it should get all reviews",
                  "fullTitle": "Reviews /GET reviews it should get all reviews",
                  "timedOut": false,
                  "duration": 71,
                  "state": "passed",
                  "speed": "medium",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "chai.request(server)\n                .get('/server/api/reviews/all')\n                .end((err, res) => {\n                    res.should.have.status(200);\n                    res.body.should.be.an('array');\n                    done();\n                });",
                  "err": {},
                  "uuid": "1025e0aa-0464-4e50-bc09-4874ddf9c276",
                  "parentUUID": "e2bb3566-7648-49a4-9282-7750d0fafe6d",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "1025e0aa-0464-4e50-bc09-4874ddf9c276"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 71,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "57704633-2445-4fb9-a0c6-fb59e5450e81",
              "title": "/POST review",
              "fullFile": "C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\reviews.js",
              "file": "\\server-side\\tests\\reviews.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "it should create a review",
                  "fullTitle": "Reviews /POST review it should create a review",
                  "timedOut": false,
                  "duration": 121,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            const review = {\n                \"rating\": \"3\",\n                \"reviewText\": \"This is the 3rd review\"\n            };\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res1) => {\n                    const userId = res1.body.user.userId;\n                    chai.request(server)\n                        .post(`/server/api/user/${userId}/reviews`)\n                        .send(review)\n                        .set('Authorization', res1.body.token)\n                        .end((err, res2) => {\n                            res2.should.have.status(201);\n                            res2.body.should.have.property('message')\n                                .eql('Review created successfully !');\n                            res2.body.review.should.be.a('object');\n                        });\n                    done();\n                });",
                  "err": {},
                  "uuid": "b1b51a9b-5bb2-48ee-ab95-53220d07f465",
                  "parentUUID": "57704633-2445-4fb9-a0c6-fb59e5450e81",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "it should not create a review without a missing or invalid JWT",
                  "fullTitle": "Reviews /POST review it should not create a review without a missing or invalid JWT",
                  "timedOut": false,
                  "duration": 163,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            const review = {\n                \"rating\": \"3\",\n                \"reviewText\": \"This is the 3rd review\"\n            };\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res1) => {\n                    const userId = res1.body.user.userId;\n                    chai.request(server)\n                        .post(`/server/api/user/${userId}/reviews`)\n                        .send(review)\n                        .end((err, res2) => {\n                            res2.should.have.status(401);\n                            Object.keys(res2.body).length.should.be.eql(0);\n                        });\n                    done();\n                });",
                  "err": {},
                  "uuid": "59ab9fd2-1f30-4eaf-809d-8b502c3f621c",
                  "parentUUID": "57704633-2445-4fb9-a0c6-fb59e5450e81",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "it should not create a review with a wrong user id",
                  "fullTitle": "Reviews /POST review it should not create a review with a wrong user id",
                  "timedOut": false,
                  "duration": 123,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            const review = {\n                \"rating\": \"3\",\n                \"reviewText\": \"This is the 3rd review\"\n            };\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res1) => {\n                    chai.request(server)\n                        .post('/server/api/user/1f468dbf5082002118fc8821/reviews')\n                        .send(review)\n                        .set('Authorization', res1.body.token)\n                        .end((err, res2) => {\n                            res2.should.have.status(404);\n                            res2.body.should.have.property('message')\n                                .eql('No user found with the provided ID');\n                        });\n                    done();\n                });",
                  "err": {},
                  "uuid": "1c293db1-e9fd-441f-82b6-b28c246cfdfe",
                  "parentUUID": "57704633-2445-4fb9-a0c6-fb59e5450e81",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "b1b51a9b-5bb2-48ee-ab95-53220d07f465",
                "59ab9fd2-1f30-4eaf-809d-8b502c3f621c",
                "1c293db1-e9fd-441f-82b6-b28c246cfdfe"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 407,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "bb86a329-a320-4945-b9a3-de1ef415d6e8",
              "title": "/PATCH:id review",
              "fullFile": "C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\reviews.js",
              "file": "\\server-side\\tests\\reviews.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "it should updated a review with the given email",
                  "fullTitle": "Reviews /PATCH:id review it should updated a review with the given email",
                  "timedOut": false,
                  "duration": 123,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            const review = {\n                \"rating\": \"9\",\n                \"reviewText\": \"This is mocha\"\n            };\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res1) => {\n                    const userId = res1.body.user.userId;\n                    const userEmail = res1.body.user.userEmail;\n                    chai.request(server)\n                        .post(`/server/api/user/${userId}/reviews`)\n                        .send(review)\n                        .set('Authorization', res1.body.token)\n                        .end((err, res2) => {\n                            const reviewId = res2.body.review._id;\n                            review.rating = \"10\";\n                            chai.request(server)\n                                .patch(`/server/api/user/${userEmail}/reviews/${reviewId}`)\n                                .send(review)\n                                .set('Authorization', res1.body.token)\n                                .end((err, res3) => {\n                                    res3.should.have.status(200);\n                                    res3.body.should.have.property('message')\n                                        .eql('Review updated successfully !');\n                                    res2.body.review.should.be.a('object');\n                                });\n                        });\n                    done();\n                });",
                  "err": {},
                  "uuid": "18b82111-44ff-4c0c-bf49-644ddabed2c3",
                  "parentUUID": "bb86a329-a320-4945-b9a3-de1ef415d6e8",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "it should not update a review whose user is non-existent",
                  "fullTitle": "Reviews /PATCH:id review it should not update a review whose user is non-existent",
                  "timedOut": false,
                  "duration": 190,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            const review = {\n                \"rating\": \"9\",\n                \"reviewText\": \"This is mocha\"\n            };\n            const userEmail = \"@gmail.com\";\n            const reviewId = \"1f468dbf5182002118fc8821\";\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res1) => {\n                    chai.request(server)\n                        .patch(`/server/api/user/${userEmail}/reviews/${reviewId}`)\n                        .send(review)\n                        .set('Authorization', res1.body.token)\n                        .end((err, res2) => {\n                            res2.should.have.status(404);\n                            res2.body.should.have.property('message')\n                                .eql('No user was found with provided ID');\n                            done();\n                        });\n                });",
                  "err": {},
                  "uuid": "b3cb23fb-383c-47c2-b42a-982bd554012d",
                  "parentUUID": "bb86a329-a320-4945-b9a3-de1ef415d6e8",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "it should not update a review with a wrong id",
                  "fullTitle": "Reviews /PATCH:id review it should not update a review with a wrong id",
                  "timedOut": false,
                  "duration": 118,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            const review = {\n                \"rating\": \"9\",\n                \"reviewText\": \"This is mocha\"\n            };\n            const userEmail = \"dan30@gmail.com\";\n            const reviewId = \"1f468dbf5182002118fc8821\";\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res1) => {\n                    chai.request(server)\n                        .patch(`/server/api/user/${userEmail}/reviews/${reviewId}`)\n                        .send(review)\n                        .set('Authorization', res1.body.token)\n                        .end((err, res2) => {\n                            res2.should.have.status(404);\n                            res2.body.should.have.property('message')\n                                .eql('No was review found with provided Email');\n                            done();\n                        });\n                });",
                  "err": {},
                  "uuid": "b9f94afc-e8b4-4080-adb7-88e387114bec",
                  "parentUUID": "bb86a329-a320-4945-b9a3-de1ef415d6e8",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "18b82111-44ff-4c0c-bf49-644ddabed2c3",
                "b3cb23fb-383c-47c2-b42a-982bd554012d",
                "b9f94afc-e8b4-4080-adb7-88e387114bec"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 431,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            }
          ],
          "passes": [],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 0,
          "root": false,
          "rootEmpty": false,
          "_timeout": 30000
        },
        {
          "uuid": "b06ca72a-32cf-4de9-afe4-c67facad7b32",
          "title": "Users",
          "fullFile": "C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\users..js",
          "file": "\\server-side\\tests\\users..js",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [],
          "suites": [
            {
              "uuid": "13cd097a-05d0-4fce-9d20-0b35da5e55cd",
              "title": "/login user",
              "fullFile": "C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\users..js",
              "file": "\\server-side\\tests\\users..js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "it should login a user",
                  "fullTitle": "Users /login user it should login a user",
                  "timedOut": false,
                  "duration": 102,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res) => {\n                    res.should.have.status(200);\n                    res.body.should.have\n                        .property('message')\n                        .eql('Auth successful');\n                    res.body.should.have\n                        .property('token');\n                    done();\n                });",
                  "err": {},
                  "uuid": "d1213ad6-9b0b-413f-937a-d5f3b21ee66f",
                  "parentUUID": "13cd097a-05d0-4fce-9d20-0b35da5e55cd",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "it should NOT login a user",
                  "fullTitle": "Users /login user it should NOT login a user",
                  "timedOut": false,
                  "duration": 4,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": \"admin\"\n            };\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res) => {\n                    res.should.have.status(400);\n                    res.body.should.have\n                        .property('message')\n                        .eql('All fields required');\n                    done();\n                });",
                  "err": {},
                  "uuid": "6d8cc6c1-7da4-45bf-83b6-138e0eeb4326",
                  "parentUUID": "13cd097a-05d0-4fce-9d20-0b35da5e55cd",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "d1213ad6-9b0b-413f-937a-d5f3b21ee66f",
                "6d8cc6c1-7da4-45bf-83b6-138e0eeb4326"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 106,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "c313fa07-bb7b-4f16-9733-a93be1711762",
              "title": "/singup user",
              "fullFile": "C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\users..js",
              "file": "\\server-side\\tests\\users..js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "it should create a user",
                  "fullTitle": "Users /singup user it should create a user",
                  "timedOut": false,
                  "duration": 106,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"username\": \"dan330\",\n                \"email\": \"dan330@gmail.com\",\n                \"password\": \"toto\"\n            };\n            chai.request(server)\n                .post('/server/api/signup')\n                .send(user)\n                .end((err, res) => {\n                    res.should.have.status(201);\n                    res.body.should.have\n                        .property('message')\n                        .eql('User created successfully');\n                    res.body.should.have\n                        .property('user');\n                    User.deleteOne({username: \"dan330\"})\n                        .exec().then().catch();\n                    done();\n                });",
                  "err": {},
                  "uuid": "caeabd97-903d-40d4-a9f2-0a016bbed63a",
                  "parentUUID": "c313fa07-bb7b-4f16-9733-a93be1711762",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "it should NOT create a user if some required field(s) are missing",
                  "fullTitle": "Users /singup user it should NOT create a user if some required field(s) are missing",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"username\": \"dan330\",\n                \"email\": \"dan330@gmail.com\",\n            };\n            chai.request(server)\n                .post('/server/api/signup')\n                .send(user)\n                .end((err, res) => {\n                    res.should.have.status(400);\n                    res.body.should.have\n                        .property('message')\n                        .eql('All fields required');\n                    done();\n                });",
                  "err": {},
                  "uuid": "67f94a07-c3c1-4276-bdc3-84d2d411d5e2",
                  "parentUUID": "c313fa07-bb7b-4f16-9733-a93be1711762",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "it should NOT create a user since he/she already exists",
                  "fullTitle": "Users /singup user it should NOT create a user since he/she already exists",
                  "timedOut": false,
                  "duration": 14,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"username\": \"admin\",\n                \"email\": \"admin10@gmail.com\",\n                \"password\": \"***********************\"\n            };\n            chai.request(server)\n                .post('/server/api/signup')\n                .send(user)\n                .end((err, res) => {\n                    res.should.have.status(409);\n                    res.body.should.have\n                        .property('success')\n                        .eql(false);\n                    res.body.should.have\n                        .property('message')\n                        .eql('Mail or Username already exists !');\n                    done();\n                });",
                  "err": {},
                  "uuid": "94b346b0-a2df-4b64-9128-b737e269b675",
                  "parentUUID": "c313fa07-bb7b-4f16-9733-a93be1711762",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "caeabd97-903d-40d4-a9f2-0a016bbed63a",
                "67f94a07-c3c1-4276-bdc3-84d2d411d5e2",
                "94b346b0-a2df-4b64-9128-b737e269b675"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 122,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "69b93397-d0f6-4a13-ace4-2f4352a93ed0",
              "title": "/GET users",
              "fullFile": "C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\users..js",
              "file": "\\server-side\\tests\\users..js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "it should get all users",
                  "fullTitle": "Users /GET users it should get all users",
                  "timedOut": false,
                  "duration": 139,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res) => {\n                    chai.request(server)\n                        .get('/server/api/users/profiles')\n                        .set('Authorization', res.body.token)\n                        .end((err, res) => {\n                            res.should.have.status(200);\n                            res.body.should.be.an('array');\n                            done();\n                        });\n                });",
                  "err": {},
                  "uuid": "fa38e8ad-9e5f-4560-8858-3160f5f76642",
                  "parentUUID": "69b93397-d0f6-4a13-ace4-2f4352a93ed0",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "it should NOT get all users if the request is sent by a student",
                  "fullTitle": "Users /GET users it should NOT get all users if the request is sent by a student",
                  "timedOut": false,
                  "duration": 117,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": \"dan30\",\n                \"password\": \"toto\"\n            };\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res) => {\n                    chai.request(server)\n                        .get('/server/api/users/profiles')\n                        .set('Authorization', res.body.token)\n                        .end((err, res) => {\n                            res.should.have.status(403);\n                            res.body.should.have\n                                .property('message')\n                                .eql(\"You don't have enough permission to perform this action\");\n                            done();\n                        });\n                });",
                  "err": {},
                  "uuid": "962652ce-a180-4a50-9c77-044e14fea98b",
                  "parentUUID": "69b93397-d0f6-4a13-ace4-2f4352a93ed0",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "fa38e8ad-9e5f-4560-8858-3160f5f76642",
                "962652ce-a180-4a50-9c77-044e14fea98b"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 256,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "abd17dcf-a838-42c8-8e8a-647d27c5d0b7",
              "title": "/GET/:id user",
              "fullFile": "C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\users..js",
              "file": "\\server-side\\tests\\users..js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "it should get a user by id",
                  "fullTitle": "Users /GET/:id user it should get a user by id",
                  "timedOut": false,
                  "duration": 115,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res) => {\n                    chai.request(server)\n                        .get(`/server/api/user/${process.env.ADMIN_ID}`)\n                        .set('Authorization', res.body.token)\n                        .end((err, res) => {\n                            res.should.have.status(200);\n                            res.body.should.be.an('object');\n                            res.body.should.have\n                                .property('user');\n                            done();\n                        });\n                });",
                  "err": {},
                  "uuid": "506a29c3-0695-47c4-ace0-81c072b6ba33",
                  "parentUUID": "abd17dcf-a838-42c8-8e8a-647d27c5d0b7",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "it should NOT get a user by id",
                  "fullTitle": "Users /GET/:id user it should NOT get a user by id",
                  "timedOut": false,
                  "duration": 137,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res) => {\n                    chai.request(server)\n                        .get(`/server/api/user/7e7fd1d5f71b123cbc246700`)\n                        .set('Authorization', res.body.token)\n                        .end((err, res) => {\n                            res.should.have.status(404);\n                            res.body.should.be.an('object');\n                            res.body.should.have\n                                .property('message')\n                                .eql('No valid entry found for provided ID');\n                            done();\n                        });\n                });",
                  "err": {},
                  "uuid": "98d86f57-4066-4273-88cf-2b82a0f8fea8",
                  "parentUUID": "abd17dcf-a838-42c8-8e8a-647d27c5d0b7",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "506a29c3-0695-47c4-ace0-81c072b6ba33",
                "98d86f57-4066-4273-88cf-2b82a0f8fea8"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 252,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "0eecbb21-2ab6-4be8-b2fc-d246b8266303",
              "title": "/PATCH/:id user",
              "fullFile": "C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\users..js",
              "file": "\\server-side\\tests\\users..js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "it should update a user by id",
                  "fullTitle": "Users /PATCH/:id user it should update a user by id",
                  "timedOut": false,
                  "duration": 299,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res) => {\n                    const userToUpdate = {\n                        \"username\": \"admin\",\n                        \"password\": process.env.ADMIN_PSD\n                    };\n                    chai.request(server)\n                        .patch(`/server/api/user/${process.env.ADMIN_ID}`)\n                        .set('Authorization', res.body.token)\n                        .send(userToUpdate)\n                        .end((err, res) => {\n                            res.should.have.status(200);\n                            res.body.should.have\n                                .property('message')\n                                .eql('User info updated successfully');\n                            res.body.should.have\n                                .property('modifiedDocs')\n                                .eql(1);\n                            done();\n                        });\n                });",
                  "err": {},
                  "uuid": "a5e5f6c2-ffcf-497e-bc04-e176fbdb3f5e",
                  "parentUUID": "0eecbb21-2ab6-4be8-b2fc-d246b8266303",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "it should NOT update a user by id",
                  "fullTitle": "Users /PATCH/:id user it should NOT update a user by id",
                  "timedOut": false,
                  "duration": 219,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const user = {\n                \"pseudo\": process.env[\"ADMIN_PSEUDO\"],\n                \"password\": process.env[\"ADMIN_PSD\"]\n            };\n            chai.request(server)\n                .post('/server/api/login')\n                .send(user)\n                .end((err, res) => {\n                    const userToUpdate = {\n                        \"username\": \"admin\",\n                        \"password\": process.env.ADMIN_PSD\n                    };\n                    chai.request(server)\n                        .patch(`/server/api/user/7e7fd1d5f71b123cbc246700`)\n                        .set('Authorization', res.body.token)\n                        .send(userToUpdate)\n                        .end((err, res) => {\n                            res.should.have.status(404);\n                            res.body.should.have\n                                .property('message')\n                                .eql('No valid entry found for provided ID');\n                            done();\n                        });\n                });",
                  "err": {},
                  "uuid": "b9398b45-ac16-45a4-8b67-ec0a4bb37cc0",
                  "parentUUID": "0eecbb21-2ab6-4be8-b2fc-d246b8266303",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "a5e5f6c2-ffcf-497e-bc04-e176fbdb3f5e",
                "b9398b45-ac16-45a4-8b67-ec0a4bb37cc0"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 518,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            }
          ],
          "passes": [],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 0,
          "root": false,
          "rootEmpty": false,
          "_timeout": 30000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 30000
    }
  ],
  "meta": {
    "mocha": {
      "version": "7.1.2"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "index",
        "saveHtml": true,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "6.1.1"
    },
    "marge": {
      "options": {
        "reportDir": "report-mocha",
        "reportFilename": "index"
      },
      "version": "5.1.0"
    }
  }
}