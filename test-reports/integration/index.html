<!doctype html>
<html lang="en">
<head>
    <meta charSet="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
    <title>Mochawesome Report</title>
    <link rel="stylesheet" href="assets\app.css"/>
</head>
<body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:19,&quot;tests&quot;:51,&quot;passes&quot;:51,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-08-29T19:04:57.950Z&quot;,&quot;end&quot;:&quot;2020-08-29T19:05:02.539Z&quot;,&quot;duration&quot;:4589,&quot;testsRegistered&quot;:51,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;865f22bc-f8a1-4be6-aecb-0521536c43d3&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1d8f4ee9-8628-4fa7-82d5-dd6b88402dd1&quot;,&quot;title&quot;:&quot;Questions&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Questions \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:324,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;loginUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send(user);\npostedQuestion = await _chai.default.request(_app.default).post(&#x27;/server/api/questions&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.token).send(question);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a92a4a0f-2cd7-450b-abb6-05a220d5c90f&quot;,&quot;parentUUID&quot;:&quot;1d8f4ee9-8628-4fa7-82d5-dd6b88402dd1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Questions \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await _questions.default.deleteMany({});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18a9e393-e913-47ce-a1a4-4e6450da37c2&quot;,&quot;parentUUID&quot;:&quot;1d8f4ee9-8628-4fa7-82d5-dd6b88402dd1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4e6d4a42-83fb-4327-8e02-0473bb6c0587&quot;,&quot;title&quot;:&quot;/GET questions&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all questions&quot;,&quot;fullTitle&quot;:&quot;Questions /GET questions it should GET all questions&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:30,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const getQuestion = await _chai.default.request(_app.default).get(&#x27;/server/api/questions&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.token);\ngetQuestion.status.should.be.eql(200);\ngetQuestion.body.should.be.a(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf7def29-ba12-424a-ad27-599521610bb8&quot;,&quot;parentUUID&quot;:&quot;4e6d4a42-83fb-4327-8e02-0473bb6c0587&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET all question with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Questions /GET questions it should NOT GET all question with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const getQuestions = await _chai.default.request(_app.default).get(&#x27;/server/api/questions&#x27;);\nconst getQuestions2 = await _chai.default.request(_app.default).get(&#x27;/server/api/questions&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\ngetQuestions.status.should.be.eql(401);\ngetQuestions2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c431750d-c447-446d-81c0-68ed93565e9d&quot;,&quot;parentUUID&quot;:&quot;4e6d4a42-83fb-4327-8e02-0473bb6c0587&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cf7def29-ba12-424a-ad27-599521610bb8&quot;,&quot;c431750d-c447-446d-81c0-68ed93565e9d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:46,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;648df6d1-54e9-4aaf-a373-679af012bfff&quot;,&quot;title&quot;:&quot;/POST questions&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should POST a question &quot;,&quot;fullTitle&quot;:&quot;Questions /POST questions it should POST a question &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;postedQuestion.status.should.be.eql(201);\npostedQuestion.body.should.be.a(&#x27;object&#x27;);\npostedQuestion.body.createdQuestion.should.be.a(&#x27;object&#x27;);\npostedQuestion.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Created question successfully !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3279d03b-3c58-4234-af96-4ee4750020fd&quot;,&quot;parentUUID&quot;:&quot;648df6d1-54e9-4aaf-a373-679af012bfff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT POST a question with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Questions /POST questions it should NOT POST a question with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const createdQuestion = await _chai.default.request(_app.default).post(&#x27;/server/api/questions&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;).send(question);\nconst createdQuestion2 = await _chai.default.request(_app.default).post(&#x27;/server/api/questions&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;).send(question);\ncreatedQuestion.status.should.be.eql(401);\ncreatedQuestion2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0310e36e-f147-4d15-b204-fc2e2831128d&quot;,&quot;parentUUID&quot;:&quot;648df6d1-54e9-4aaf-a373-679af012bfff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3279d03b-3c58-4234-af96-4ee4750020fd&quot;,&quot;0310e36e-f147-4d15-b204-fc2e2831128d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;fc32fafa-d69b-4f2a-bdc6-8f3599a06e62&quot;,&quot;title&quot;:&quot;/GET/:id question&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET a question by the given id&quot;,&quot;fullTitle&quot;:&quot;Questions /GET/:id question it should GET a question by the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).get(`/server/api/questions/${postedQuestion.body.createdQuestion.id}`).set(&#x27;Authorization&#x27;, loginUser.body.token);\nqst.status.should.be.eql(200);\nqst.body[0].should.have.property(&#x27;question&#x27;).eql(\&quot;what&#x27;s 22 - 150 ?\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7fbd1fad-0f2b-40cd-9aec-58e7ce15c44c&quot;,&quot;parentUUID&quot;:&quot;fc32fafa-d69b-4f2a-bdc6-8f3599a06e62&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a question with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Questions /GET/:id question it should NOT GET a question with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).get(`/server/api/questions/123`).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nconst qst2 = await _chai.default.request(_app.default).get(&#x27;/server/api/questions/123&#x27;);\nqst.status.should.be.eql(401);\nqst2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a9eb27e7-a3f0-46f3-90de-499c4535661c&quot;,&quot;parentUUID&quot;:&quot;fc32fafa-d69b-4f2a-bdc6-8f3599a06e62&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a question with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Questions /GET/:id question it should NOT GET a question with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).get(`/server/api/questions/1f468dbf5082002118fc8821`).set(&#x27;Authorization&#x27;, loginUser.body.token);\nqst.status.should.be.eql(404);\nqst.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found for provided id&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b406e356-b003-4df2-9e41-0857133820d5&quot;,&quot;parentUUID&quot;:&quot;fc32fafa-d69b-4f2a-bdc6-8f3599a06e62&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7fbd1fad-0f2b-40cd-9aec-58e7ce15c44c&quot;,&quot;a9eb27e7-a3f0-46f3-90de-499c4535661c&quot;,&quot;b406e356-b003-4df2-9e41-0857133820d5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:55,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;c148bc3a-75a1-4072-8f23-0b06b29b9437&quot;,&quot;title&quot;:&quot;/PATCH/:id question&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should NOT PATCH a question with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Questions /PATCH/:id question it should NOT PATCH a question with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:30,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).patch(`/server/api/questions/5e97314f7cb39f58e4e21ed6`).send(question).set(&#x27;Authorization&#x27;, loginUser.body.token);\nqst.status.should.be.eql(404);\nqst.body.should.be.a(&#x27;object&#x27;);\nqst.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found for provided id&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c30fb119-fbff-4e01-850e-488c480ef9a6&quot;,&quot;parentUUID&quot;:&quot;c148bc3a-75a1-4072-8f23-0b06b29b9437&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should PATCH a question by the given id&quot;,&quot;fullTitle&quot;:&quot;Questions /PATCH/:id question it should PATCH a question by the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;question.type = \&quot;boolean\&quot;;\nconst qst = await _chai.default.request(_app.default).patch(`/server/api/questions/${postedQuestion.body.createdQuestion.id}`).set(&#x27;Authorization&#x27;, loginUser.body.token).send(question);\nqst.status.should.be.eql(200);\nqst.body.should.have.property(&#x27;updatedQuestion&#x27;);\nqst.body.updatedQuestion.should.have.property(&#x27;type&#x27;).eql(&#x27;boolean&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;901af488-4ef4-41e3-82db-7338febc7d34&quot;,&quot;parentUUID&quot;:&quot;c148bc3a-75a1-4072-8f23-0b06b29b9437&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a question with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Questions /PATCH/:id question it should NOT PATCH a question with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).patch(&#x27;/server/api/questions/123&#x27;).send(question);\nconst qst2 = await _chai.default.request(_app.default).patch(&#x27;/server/api/questions/123&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;).send(question);\nqst.status.should.be.eql(401);\nqst2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;33898e04-fb26-4576-bd3e-045b251dc903&quot;,&quot;parentUUID&quot;:&quot;c148bc3a-75a1-4072-8f23-0b06b29b9437&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c30fb119-fbff-4e01-850e-488c480ef9a6&quot;,&quot;901af488-4ef4-41e3-82db-7338febc7d34&quot;,&quot;33898e04-fb26-4576-bd3e-045b251dc903&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:64,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;41270693-6bf6-423e-b2e6-d5725684eb58&quot;,&quot;title&quot;:&quot;/DELETE/:id question&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should DELETE a question by the given id&quot;,&quot;fullTitle&quot;:&quot;Questions /DELETE/:id question it should DELETE a question by the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).delete(`/server/api/questions/${postedQuestion.body.createdQuestion.id}`).set(&#x27;Authorization&#x27;, loginUser.body.token);\nqst.status.should.be.equal(200);\nqst.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Question deleted successfully !&#x27;);\nqst.body.should.have.property(&#x27;deletedQuestion&#x27;).eql(\&quot;what&#x27;s 22 - 150 ?\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76d8571b-82c7-4c8b-a885-7f0b7f82b34f&quot;,&quot;parentUUID&quot;:&quot;41270693-6bf6-423e-b2e6-d5725684eb58&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a question with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Questions /DELETE/:id question it should NOT DELETE a question with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const deletedUser = await _chai.default.request(_app.default).delete(&#x27;/server/api/questions/1c7414e51167af71f81f4313&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedUser.status.should.be.equal(404);\ndeletedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found for provided id .&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb9a1668-2b5a-4c21-a5fb-ee2e7c6641cb&quot;,&quot;parentUUID&quot;:&quot;41270693-6bf6-423e-b2e6-d5725684eb58&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a question with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Questions /DELETE/:id question it should NOT DELETE a question with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).delete(&#x27;/server/api/questions/123&#x27;);\nconst qst2 = await _chai.default.request(_app.default).delete(&#x27;/server/api/questions/123&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nqst.status.should.be.eql(401);\nqst2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;edc48b3b-7c5f-4505-85f7-113022bcc907&quot;,&quot;parentUUID&quot;:&quot;41270693-6bf6-423e-b2e6-d5725684eb58&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;76d8571b-82c7-4c8b-a885-7f0b7f82b34f&quot;,&quot;cb9a1668-2b5a-4c21-a5fb-ee2e7c6641cb&quot;,&quot;edc48b3b-7c5f-4505-85f7-113022bcc907&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:50,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;e03984ee-5f4f-4f10-85d3-46a7b9679ddc&quot;,&quot;title&quot;:&quot;Reviews&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Reviews \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:109,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;loginUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send(user);\ncreateReview = await _chai.default.request(_app.default).post(`/server/api/user/${_environment.default.ADMIN_ID}/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f57a9bc3-fc80-47d7-b9f3-6d69a16434e9&quot;,&quot;parentUUID&quot;:&quot;e03984ee-5f4f-4f10-85d3-46a7b9679ddc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Reviews \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await _repository.reviewRepository.save({\n  id: _environment.default.ADMIN_ID,\n  new: true,\n  reviews: [{\n    \&quot;rating\&quot;: 3,\n    \&quot;reviewText\&quot;: \&quot;This is the 3rd review !!!\&quot;\n  }]\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a1884c54-24cf-461e-a2c5-876c20dc9ec6&quot;,&quot;parentUUID&quot;:&quot;e03984ee-5f4f-4f10-85d3-46a7b9679ddc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4340c5ff-93bd-4f94-8c97-b4c1ac1aa3b9&quot;,&quot;title&quot;:&quot;/GET reviews&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should get all reviews&quot;,&quot;fullTitle&quot;:&quot;Reviews /GET reviews it should get all reviews&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const reviews = await _chai.default.request(_app.default).get(&#x27;/server/api/reviews/all&#x27;);\nreviews.status.should.be.eql(200);\nreviews.body.should.be.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13f6ffab-57a5-4521-a572-ea016c210560&quot;,&quot;parentUUID&quot;:&quot;4340c5ff-93bd-4f94-8c97-b4c1ac1aa3b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;13f6ffab-57a5-4521-a572-ea016c210560&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;c2dcb417-1350-47ce-9769-1dcc4482cfd2&quot;,&quot;title&quot;:&quot;/POST review&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should create a review&quot;,&quot;fullTitle&quot;:&quot;Reviews /POST review it should create a review&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;createReview.status.should.be.eql(201);\ncreateReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Review created successfully !&#x27;);\ncreateReview.body.should.be.a(&#x27;object&#x27;);\n(0, _chai.expect)(createReview.body.updatedUser.reviews.rating).to.equal(3);\n(0, _chai.expect)(createReview.body.updatedUser.reviews.reviewText).to.equal(\&quot;This is the 3rd review\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0950b723-49a9-4c49-9f3c-b39db2eab97a&quot;,&quot;parentUUID&quot;:&quot;c2dcb417-1350-47ce-9769-1dcc4482cfd2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT create a review for unregistered user&quot;,&quot;fullTitle&quot;:&quot;Reviews /POST review it should NOT create a review for unregistered user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const review = await _chai.default.request(_app.default).post(`/server/api/user/1f468dbf5082002118fc8821/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);\nreview.status.should.be.eql(404);\nreview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found for provided id !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47728af6-3139-41a7-991d-76967679d495&quot;,&quot;parentUUID&quot;:&quot;c2dcb417-1350-47ce-9769-1dcc4482cfd2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT create a review with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Reviews /POST review it should NOT create a review with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const createdReview = await _chai.default.request(_app.default).post(`/server/api/user/${_environment.default.ADMIN_ID}/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nconst createdReview2 = await _chai.default.request(_app.default).post(`/server/api/user/${_environment.default.ADMIN_ID}/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\ncreatedReview.status.should.be.eql(401);\ncreatedReview2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bbdeab7c-3e78-4439-9142-3e396eec612b&quot;,&quot;parentUUID&quot;:&quot;c2dcb417-1350-47ce-9769-1dcc4482cfd2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should make sure a student can&#x27;t create a review for others&quot;,&quot;fullTitle&quot;:&quot;Reviews /POST review it should make sure a student can&#x27;t create a review for others&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:331,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst createdReview = await _chai.default.request(_app.default).post(`/server/api/user/${rbac.createdUser2.createdUser._id}/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, rbac.logInUser1.token);\ncreatedReview.status.should.be.eql(403);\ncreatedReview.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;220580e2-c6ad-469c-b781-ea35cd80513a&quot;,&quot;parentUUID&quot;:&quot;c2dcb417-1350-47ce-9769-1dcc4482cfd2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0950b723-49a9-4c49-9f3c-b39db2eab97a&quot;,&quot;47728af6-3139-41a7-991d-76967679d495&quot;,&quot;bbdeab7c-3e78-4439-9142-3e396eec612b&quot;,&quot;220580e2-c6ad-469c-b781-ea35cd80513a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:362,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;139fa93e-fc99-4ab6-9061-d0f9da3aedad&quot;,&quot;title&quot;:&quot;/PATCH:id review&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should PATCH a review with the given id&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should PATCH a review with the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const username = createReview.body.updatedUser.reviews.author;\nconst reviewId = createReview.body.updatedUser.reviews._id;\nconst updateReview = await _chai.default.request(_app.default).patch(`/server/api/user/${username}/reviews/${reviewId}`).send({\n  \&quot;rating\&quot;: 2,\n  \&quot;reviewText\&quot;: \&quot;This is the 1st review\&quot;\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);\nupdateReview.status.should.be.eql(200);\nupdateReview.body.should.be.a(&#x27;object&#x27;);\nupdateReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Review updated successfully !&#x27;);\n(0, _chai.expect)(updateReview.body.updatedUser.updatedReview.rating).to.equal(2);\n(0, _chai.expect)(updateReview.body.updatedUser.updatedReview.reviewText).to.equal(\&quot;This is the 1st review\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92423734-4bea-4aab-8f04-32eafd8f4d49&quot;,&quot;parentUUID&quot;:&quot;139fa93e-fc99-4ab6-9061-d0f9da3aedad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updateReview = await _chai.default.request(_app.default).patch(`/server/api/user/${_environment.default.ADMIN_PSEUDO}/reviews/7e7fd1d5f71b123cbc246700`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 1st review\&quot;\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);\nupdateReview.status.should.be.eql(404);\nupdateReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No was review found with provided id !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fcd40f3b-e7bd-4b2e-bce1-0343e67d6b23&quot;,&quot;parentUUID&quot;:&quot;139fa93e-fc99-4ab6-9061-d0f9da3aedad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review whose user has none&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review whose user has none&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:336,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst updateReview = await _chai.default.request(_app.default).patch(`/server/api/user/${rbac.username1}/reviews/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, rbac.logInUser1.token).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n});\nupdateReview.status.should.be.eql(404);\nupdateReview.body.should.have.property(&#x27;message&#x27;).eql(`${rbac.username1} doesn&#x27;t have any reviews at the moment !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13d447a5-4d36-434d-933e-65a655e55820&quot;,&quot;parentUUID&quot;:&quot;139fa93e-fc99-4ab6-9061-d0f9da3aedad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review for unregistered user&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review for unregistered user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const username = Math.random().toString(36).substr(2, 9);\nconst updatedReview = await _chai.default.request(_app.default).patch(`/server/api/user/${username}/reviews/7e7fd1d5f71b123cbc246700`).send({\n  \&quot;rating\&quot;: 2,\n  \&quot;reviewText\&quot;: \&quot;This is the 1st review\&quot;\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);\nupdatedReview.status.should.be.eql(404);\nupdatedReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No user was found with provided username&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15b2fbfc-22cc-4d94-ae59-a369229c0894&quot;,&quot;parentUUID&quot;:&quot;139fa93e-fc99-4ab6-9061-d0f9da3aedad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const createdReview = await _chai.default.request(_app.default).patch(`/server/api/user/abc/reviews/123`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nconst createdReview2 = await _chai.default.request(_app.default).patch(`/server/api/user/abc/reviews/123`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n});\ncreatedReview.status.should.be.eql(401);\ncreatedReview2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69d051b6-0b56-420f-ab57-689a283ba9a1&quot;,&quot;parentUUID&quot;:&quot;139fa93e-fc99-4ab6-9061-d0f9da3aedad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should make sure a student can&#x27;t update a review for others&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should make sure a student can&#x27;t update a review for others&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:350,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst user1Review = await _chai.default.request(_app.default).post(`/server/api/user/${rbac.firstUserId}/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, rbac.logInUser1.token);\nconst user1ReviewId = user1Review.body.updatedUser.reviews._id;\nconst updateReview = await _chai.default.request(_app.default).patch(`/server/api/user/${rbac.username1}/reviews/${user1ReviewId}`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, rbac.logInUser2.token);\nupdateReview.status.should.be.eql(403);\nupdateReview.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d42e6be-977e-41cf-bb28-3f23bcb1710e&quot;,&quot;parentUUID&quot;:&quot;139fa93e-fc99-4ab6-9061-d0f9da3aedad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;92423734-4bea-4aab-8f04-32eafd8f4d49&quot;,&quot;fcd40f3b-e7bd-4b2e-bce1-0343e67d6b23&quot;,&quot;13d447a5-4d36-434d-933e-65a655e55820&quot;,&quot;15b2fbfc-22cc-4d94-ae59-a369229c0894&quot;,&quot;69d051b6-0b56-420f-ab57-689a283ba9a1&quot;,&quot;8d42e6be-977e-41cf-bb28-3f23bcb1710e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:734,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;d40f131c-3f06-4d06-aab0-15014fb22407&quot;,&quot;title&quot;:&quot;/DELETE:id review&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should DELETE a review with the given id&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should DELETE a review with the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const username = createReview.body.updatedUser.reviews.author;\nconst reviewId = createReview.body.updatedUser.reviews._id;\nconst deletedReview = await _chai.default.request(_app.default).delete(`/server/api/user/${username}/reviews/${reviewId}`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedReview.status.should.be.eql(200);\ndeletedReview.body.should.be.a(&#x27;object&#x27;);\n(0, _chai.expect)(deletedReview.body.updatedUser.removedReview._id).to.equal(reviewId);\ndeletedReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Review deleted successfully !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4cc55d35-e246-4c49-954c-00d610038d39&quot;,&quot;parentUUID&quot;:&quot;d40f131c-3f06-4d06-aab0-15014fb22407&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a review with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should NOT DELETE a review with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const deletedReview = await _chai.default.request(_app.default).delete(`/server/api/user/${_environment.default.ADMIN_PSEUDO}/reviews/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedReview.status.should.be.eql(404);\ndeletedReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No was review found with provided id !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea78f525-5fe1-4d49-888b-efe44466e5ff&quot;,&quot;parentUUID&quot;:&quot;d40f131c-3f06-4d06-aab0-15014fb22407&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a review whose user has none&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should NOT DELETE a review whose user has none&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:97,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUser = (0, _make2users.default)().user1;\nconst postUser = await _services.userService.addUser({ ...newUser\n});\nconst username = postUser.createdUser.username;\nconst deletedReview = await _chai.default.request(_app.default).delete(`/server/api/user/${username}/reviews/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedReview.status.should.be.eql(404);\ndeletedReview.body.should.have.property(&#x27;message&#x27;).eql(`${username} doesn&#x27;t have any reviews at the moment !`);\nawait _repository.userRepository.remove({\n  id: postUser.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bcf1dc64-38b7-41d1-97cd-4f5814db8850&quot;,&quot;parentUUID&quot;:&quot;d40f131c-3f06-4d06-aab0-15014fb22407&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a review for unregistered user&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should NOT DELETE a review for unregistered user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const username = Math.random().toString(36).substr(2, 9);\nconst deletedReview = await _chai.default.request(_app.default).delete(`/server/api/user/${username}/reviews/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedReview.status.should.be.eql(404);\ndeletedReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No user was found with provided username !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39e0ad1d-528c-4b56-93a4-7fdeae012506&quot;,&quot;parentUUID&quot;:&quot;d40f131c-3f06-4d06-aab0-15014fb22407&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a review with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should NOT DELETE a review with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const createdReview = await _chai.default.request(_app.default).delete(`/server/api/user/abc/reviews/123`).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nconst createdReview2 = await _chai.default.request(_app.default).delete(`/server/api/user/abc/reviews/123`);\ncreatedReview.status.should.be.eql(401);\ncreatedReview2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be5acfea-5664-4e12-b748-8bd58f12136e&quot;,&quot;parentUUID&quot;:&quot;d40f131c-3f06-4d06-aab0-15014fb22407&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should make sure a student can&#x27;t delete a review for others&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should make sure a student can&#x27;t delete a review for others&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:353,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst user1Review = await _chai.default.request(_app.default).post(`/server/api/user/${rbac.firstUserId}/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, rbac.logInUser1.token);\nconst user1ReviewId = user1Review.body.updatedUser.reviews._id;\nconst deleteReview = await _chai.default.request(_app.default).delete(`/server/api/user/${rbac.username1}/reviews/${user1ReviewId}`).set(&#x27;Authorization&#x27;, rbac.logInUser2.token);\ndeleteReview.status.should.be.eql(403);\ndeleteReview.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;abb9cb34-85a5-43db-ba50-363a5dc84ddd&quot;,&quot;parentUUID&quot;:&quot;d40f131c-3f06-4d06-aab0-15014fb22407&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4cc55d35-e246-4c49-954c-00d610038d39&quot;,&quot;ea78f525-5fe1-4d49-888b-efe44466e5ff&quot;,&quot;bcf1dc64-38b7-41d1-97cd-4f5814db8850&quot;,&quot;39e0ad1d-528c-4b56-93a4-7fdeae012506&quot;,&quot;be5acfea-5664-4e12-b748-8bd58f12136e&quot;,&quot;abb9cb34-85a5-43db-ba50-363a5dc84ddd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:503,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;33048e37-4706-427e-bef9-f4cd0b964212&quot;,&quot;title&quot;:&quot;Users&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Users \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:89,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;loginUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send(user);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;707f9a47-aa48-47a0-9fa1-394657ff580b&quot;,&quot;parentUUID&quot;:&quot;33048e37-4706-427e-bef9-f4cd0b964212&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b0b2bf20-819b-46f0-a62b-8f405a988087&quot;,&quot;title&quot;:&quot;/login user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should login a user&quot;,&quot;fullTitle&quot;:&quot;Users /login user it should login a user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;loginUser.status.should.be.eql(200);\nloginUser.body.should.have.property(&#x27;token&#x27;);\n(0, _chai.expect)(loginUser.body.success).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;28dfbfa9-1994-4a65-bc91-0a50514f4f77&quot;,&quot;parentUUID&quot;:&quot;b0b2bf20-819b-46f0-a62b-8f405a988087&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT login a user with a wrong password&quot;,&quot;fullTitle&quot;:&quot;Users /login user it should NOT login a user with a wrong password&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:83,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fakeUser = {\n  \&quot;pseudo\&quot;: _environment.default.ADMIN_PSEUDO,\n  \&quot;password\&quot;: \&quot;xxxxxxxxxxxxxx\&quot;\n};\nconst loggedIn = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send(fakeUser);\nloggedIn.status.should.be.eql(401);\nloggedIn.body.should.not.have.property(&#x27;token&#x27;);\n(0, _chai.expect)(loggedIn.body.success).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd20177a-3c9c-42c9-b8ce-8872cb95c223&quot;,&quot;parentUUID&quot;:&quot;b0b2bf20-819b-46f0-a62b-8f405a988087&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;28dfbfa9-1994-4a65-bc91-0a50514f4f77&quot;,&quot;fd20177a-3c9c-42c9-b8ce-8872cb95c223&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:83,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;e2628f4b-cddc-4c7e-aa90-b72575f85f27&quot;,&quot;title&quot;:&quot;/singup user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should create a new user&quot;,&quot;fullTitle&quot;:&quot;Users /singup user it should create a new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUser = (0, _make2users.default)().user1;\nconst createdUser = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(newUser);\ncreatedUser.status.should.be.eql(201);\ncreatedUser.body.should.have.property(&#x27;message&#x27;).eql(`A verification email has been sent to ${newUser.email}`);\n(0, _chai.expect)(createdUser.body.success).to.be.true;\nawait _repository.userRepository.remove({\n  id: createdUser.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36e7bc95-58dc-4652-94b4-090f325bf0a2&quot;,&quot;parentUUID&quot;:&quot;e2628f4b-cddc-4c7e-aa90-b72575f85f27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT create a user if he/she already exists&quot;,&quot;fullTitle&quot;:&quot;Users /singup user it should NOT create a user if he/she already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUser = {\n  \&quot;username\&quot;: _environment.default.ADMIN_PSEUDO,\n  \&quot;email\&quot;: `abc@gmail.com`,\n  \&quot;password\&quot;: &#x27;abc&#x27;\n};\nconst createdUser = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(newUser);\ncreatedUser.status.should.be.eql(409);\ncreatedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;A user with the same username or email already exists !&#x27;);\n(0, _chai.expect)(createdUser.body.success).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;858b10b5-0d4f-45e7-9096-db9cd8975246&quot;,&quot;parentUUID&quot;:&quot;e2628f4b-cddc-4c7e-aa90-b72575f85f27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;36e7bc95-58dc-4652-94b4-090f325bf0a2&quot;,&quot;858b10b5-0d4f-45e7-9096-db9cd8975246&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:100,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;2271eb7c-62e8-4e42-9888-fd9a2f297719&quot;,&quot;title&quot;:&quot;/GET users&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all users&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should GET all users&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.token);\nusers.status.should.be.eql(200);\nusers.body.should.be.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d2edbc5-9269-4452-838a-ec8d01e8dd6f&quot;,&quot;parentUUID&quot;:&quot;2271eb7c-62e8-4e42-9888-fd9a2f297719&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET all user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should NOT GET all user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;);\nconst users1 = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;\nusers1.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;912a82c6-4f4f-4ba1-8878-d3d6c8959d3f&quot;,&quot;parentUUID&quot;:&quot;2271eb7c-62e8-4e42-9888-fd9a2f297719&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET all users if the request is sent by a student&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should NOT GET all users if the request is sent by a student&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:330,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst getUsers = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;).set(&#x27;Authorization&#x27;, rbac.logInUser1.token);\ngetUsers.status.should.be.eql(403);\ngetUsers.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da192a72-2b8d-4c8b-9991-34ffd6d59964&quot;,&quot;parentUUID&quot;:&quot;2271eb7c-62e8-4e42-9888-fd9a2f297719&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5d2edbc5-9269-4452-838a-ec8d01e8dd6f&quot;,&quot;912a82c6-4f4f-4ba1-8878-d3d6c8959d3f&quot;,&quot;da192a72-2b8d-4c8b-9991-34ffd6d59964&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:348,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;9de5f0de-3943-4011-b472-4080d91dd1c6&quot;,&quot;title&quot;:&quot;/GET/:id user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET a user by id&quot;,&quot;fullTitle&quot;:&quot;Users /GET/:id user it should GET a user by id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const getUser = await _chai.default.request(_app.default).get(`/server/api/user/${_environment.default.ADMIN_ID}`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ngetUser.status.should.be.eql(200);\ngetUser.body.should.be.an(&#x27;object&#x27;);\ngetUser.body.should.have.property(&#x27;user&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c2934b4-12ec-4463-ab08-4fbb5609f780&quot;,&quot;parentUUID&quot;:&quot;9de5f0de-3943-4011-b472-4080d91dd1c6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a user by a wrong id&quot;,&quot;fullTitle&quot;:&quot;Users /GET/:id user it should NOT GET a user by a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const getUser = await _chai.default.request(_app.default).get(`/server/api/user/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ngetUser.status.should.be.eql(404);\ngetUser.body.should.be.an(&#x27;object&#x27;);\ngetUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found with provided id&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9dc035eb-a73b-4b18-bb83-82ffeedc8946&quot;,&quot;parentUUID&quot;:&quot;9de5f0de-3943-4011-b472-4080d91dd1c6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /GET/:id user it should NOT GET a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;);\nconst users1 = await _chai.default.request(_app.default).get(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77e3dbea-a906-4fbd-adb0-852d45eb6c33&quot;,&quot;parentUUID&quot;:&quot;9de5f0de-3943-4011-b472-4080d91dd1c6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should check that a student can&#x27;t get/see another student&#x27;s profile&quot;,&quot;fullTitle&quot;:&quot;Users /GET/:id user it should check that a student can&#x27;t get/see another student&#x27;s profile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:328,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst getProfile = await _chai.default.request(_app.default).get(`/server/api/user/${rbac.createdUser2.createdUser._id}`).set(&#x27;Authorization&#x27;, rbac.logInUser1.token);\ngetProfile.status.should.be.eql(403);\ngetProfile.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b99e6ee0-b83f-4c46-8f82-0ea4dc6718ca&quot;,&quot;parentUUID&quot;:&quot;9de5f0de-3943-4011-b472-4080d91dd1c6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9c2934b4-12ec-4463-ab08-4fbb5609f780&quot;,&quot;9dc035eb-a73b-4b18-bb83-82ffeedc8946&quot;,&quot;77e3dbea-a906-4fbd-adb0-852d45eb6c33&quot;,&quot;b99e6ee0-b83f-4c46-8f82-0ea4dc6718ca&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:361,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;55ee0cb5-162e-49b3-a094-04062192aba5&quot;,&quot;title&quot;:&quot;/PATCH/:id user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should PATCH a user by id&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should PATCH a user by id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const patchUser = await _chai.default.request(_app.default).patch(`/server/api/user/${_environment.default.ADMIN_ID}`).set(&#x27;Authorization&#x27;, loginUser.body.token).send(admin);\npatchUser.status.should.be.eql(200);\n(0, _chai.expect)(patchUser.body.updatedUser.username).to.equal(_environment.default.ADMIN_PSEUDO);\npatchUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User info updated successfully&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4b8c817-e6aa-4f8d-b741-54d8acb066f4&quot;,&quot;parentUUID&quot;:&quot;55ee0cb5-162e-49b3-a094-04062192aba5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a user by a wrong id&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should NOT PATCH a user by a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updateUser = await _chai.default.request(_app.default).patch(`/server/api/user/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token).send(admin);\nupdateUser.status.should.be.eql(404);\nupdateUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found with provided id .&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cc6853c-77a0-42f4-b3f8-85edbfa8647f&quot;,&quot;parentUUID&quot;:&quot;55ee0cb5-162e-49b3-a094-04062192aba5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should NOT PATCH a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).patch(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;);\nconst users1 = await _chai.default.request(_app.default).patch(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;451f3c30-229a-4470-a55e-ea7b9d5e4b5f&quot;,&quot;parentUUID&quot;:&quot;55ee0cb5-162e-49b3-a094-04062192aba5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should check that a student can&#x27;t update another student&#x27;s profile&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should check that a student can&#x27;t update another student&#x27;s profile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:325,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst updateProfile = await _chai.default.request(_app.default).patch(`/server/api/user/${rbac.createdUser2.createdUser._id}`).set(&#x27;Authorization&#x27;, rbac.logInUser1.token).send({\n  \&quot;username\&quot;: \&quot;abc\&quot;\n});\nupdateProfile.status.should.be.eql(403);\nupdateProfile.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb40f664-575a-4740-897d-4bd8803a39b4&quot;,&quot;parentUUID&quot;:&quot;55ee0cb5-162e-49b3-a094-04062192aba5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c4b8c817-e6aa-4f8d-b741-54d8acb066f4&quot;,&quot;9cc6853c-77a0-42f4-b3f8-85edbfa8647f&quot;,&quot;451f3c30-229a-4470-a55e-ea7b9d5e4b5f&quot;,&quot;bb40f664-575a-4740-897d-4bd8803a39b4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:432,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;19407d6b-d401-460c-bd1d-ab3633afdc6f&quot;,&quot;title&quot;:&quot;/DELETE/:id user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should DELETE a user by id&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE/:id user it should DELETE a user by id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:108,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUser = (0, _make2users.default)().user1;\nconst createdUser = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(newUser);\nconst deletedUser = await _chai.default.request(_app.default).delete(`/server/api/user/${createdUser.body.user.userId}`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedUser.status.should.be.eql(200);\n(0, _chai.expect)(deletedUser.body.removedUser.username).to.equal(newUser.username);\ndeletedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User deleted successfully !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ce2a706-3828-4416-ade6-9afdb4665549&quot;,&quot;parentUUID&quot;:&quot;19407d6b-d401-460c-bd1d-ab3633afdc6f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a user by a wrong id&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE/:id user it should NOT DELETE a user by a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const deletedUser = await _chai.default.request(_app.default).delete(`/server/api/user/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedUser.status.should.be.eql(404);\ndeletedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found with provided id&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f3f52f4f-b6d5-4a10-99b7-642b732deda4&quot;,&quot;parentUUID&quot;:&quot;19407d6b-d401-460c-bd1d-ab3633afdc6f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE/:id user it should NOT DELETE a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).patch(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;);\nconst users1 = await _chai.default.request(_app.default).patch(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;940bf375-64a0-4a76-9d3e-5abf4740ed2d&quot;,&quot;parentUUID&quot;:&quot;19407d6b-d401-460c-bd1d-ab3633afdc6f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should check that a student can&#x27;t delete another student&#x27;s profile&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE/:id user it should check that a student can&#x27;t delete another student&#x27;s profile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:325,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst deleteProfile = await _chai.default.request(_app.default).delete(`/server/api/user/${rbac.createdUser2.createdUser._id}`).set(&#x27;Authorization&#x27;, rbac.logInUser1.token);\ndeleteProfile.status.should.be.eql(403);\ndeleteProfile.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ae4083b8-1ab5-4f9a-8cdd-a9b7a1ff4861&quot;,&quot;parentUUID&quot;:&quot;19407d6b-d401-460c-bd1d-ab3633afdc6f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8ce2a706-3828-4416-ade6-9afdb4665549&quot;,&quot;f3f52f4f-b6d5-4a10-99b7-642b732deda4&quot;,&quot;940bf375-64a0-4a76-9d3e-5abf4740ed2d&quot;,&quot;ae4083b8-1ab5-4f9a-8cdd-a9b7a1ff4861&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:449,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;dfde5262-6526-45e8-ba45-70289f310978&quot;,&quot;title&quot;:&quot;/PATCH/:id/score&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should PATCH the user&#x27;s score&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id/score it should PATCH the user&#x27;s score&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adminScore = await _chai.default.request(_app.default).patch(`/server/api/user/${_environment.default.ADMIN_ID}/score`).send({\n  \&quot;score\&quot;: 10\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);\nadminScore.status.should.be.eql(200);\n(0, _chai.expect)(adminScore.body.updatedUser.score).to.equal(10);\n(0, _chai.expect)(adminScore.body.updatedUser.level).to.equal(&#x27;C2&#x27;);\nadminScore.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User info updated successfully !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6461b248-486f-4663-a90f-1a0867c924ec&quot;,&quot;parentUUID&quot;:&quot;dfde5262-6526-45e8-ba45-70289f310978&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should check that a student can&#x27;t update another student&#x27;s score&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id/score it should check that a student can&#x27;t update another student&#x27;s score&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:328,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst updateScore = await _chai.default.request(_app.default).patch(`/server/api/user/${rbac.createdUser2.createdUser._id}/score`).set(&#x27;Authorization&#x27;, rbac.logInUser1.token).send({\n  \&quot;score\&quot;: 8\n});\nupdateScore.status.should.be.eql(403);\nupdateScore.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01300b08-27df-4ba1-a053-aa166a7bfc16&quot;,&quot;parentUUID&quot;:&quot;dfde5262-6526-45e8-ba45-70289f310978&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6461b248-486f-4663-a90f-1a0867c924ec&quot;,&quot;01300b08-27df-4ba1-a053-aa166a7bfc16&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:349,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:10000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.1.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;index&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.1.1&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;test-reports/integration&quot;,&quot;reportFilename&quot;:&quot;index&quot;},&quot;version&quot;:&quot;5.1.0&quot;}}}"
      data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;test-reports/integration&quot;,&quot;reportTitle&quot;:&quot;mean-stack-web-app&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;test-reports\\integration\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\test-reports\\integration\\index.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\test-reports\\integration\\index.html&quot;}">
<div id="report"></div>
<script src="assets\app.js"></script>
</body>
</html>
