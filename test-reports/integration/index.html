<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:19,&quot;tests&quot;:51,&quot;passes&quot;:51,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-08-03T21:29:35.224Z&quot;,&quot;end&quot;:&quot;2020-08-03T21:29:41.197Z&quot;,&quot;duration&quot;:5973,&quot;testsRegistered&quot;:51,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;388c45bc-8d64-4cf3-99d9-58909c0ba193&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1c299c00-db53-44bb-a889-c45c71cfa4c1&quot;,&quot;title&quot;:&quot;Questions&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Questions \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:290,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;loginUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send(user);\npostedQuestion = await _chai.default.request(_app.default).post(&#x27;/server/api/questions&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.token).send(question);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5434af24-e618-47f6-9827-9d8c27d37c5c&quot;,&quot;parentUUID&quot;:&quot;1c299c00-db53-44bb-a889-c45c71cfa4c1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Questions \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await _questions.default.deleteMany({});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;752026e6-80c0-4565-a72a-0714e6e458e1&quot;,&quot;parentUUID&quot;:&quot;1c299c00-db53-44bb-a889-c45c71cfa4c1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e33f20b2-3360-44eb-ab67-e1e6ab49b8d7&quot;,&quot;title&quot;:&quot;/GET questions&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all questions&quot;,&quot;fullTitle&quot;:&quot;Questions /GET questions it should GET all questions&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const getQuestion = await _chai.default.request(_app.default).get(&#x27;/server/api/questions&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.token);\ngetQuestion.status.should.be.eql(200);\ngetQuestion.body.should.be.a(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd2767b0-a007-4dd5-bd72-498e5050c17d&quot;,&quot;parentUUID&quot;:&quot;e33f20b2-3360-44eb-ab67-e1e6ab49b8d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET all question with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Questions /GET questions it should NOT GET all question with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const getQuestions = await _chai.default.request(_app.default).get(&#x27;/server/api/questions&#x27;);\nconst getQuestions2 = await _chai.default.request(_app.default).get(&#x27;/server/api/questions&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\ngetQuestions.status.should.be.eql(401);\ngetQuestions2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a73de30-5114-4b11-80a0-acf1975b7e00&quot;,&quot;parentUUID&quot;:&quot;e33f20b2-3360-44eb-ab67-e1e6ab49b8d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cd2767b0-a007-4dd5-bd72-498e5050c17d&quot;,&quot;6a73de30-5114-4b11-80a0-acf1975b7e00&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:37,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;a7b1cc15-3261-45eb-b3ed-2e2a1dbd6e66&quot;,&quot;title&quot;:&quot;/POST questions&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should POST a question &quot;,&quot;fullTitle&quot;:&quot;Questions /POST questions it should POST a question &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;postedQuestion.status.should.be.eql(201);\npostedQuestion.body.should.be.a(&#x27;object&#x27;);\npostedQuestion.body.createdQuestion.should.be.a(&#x27;object&#x27;);\npostedQuestion.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Created question successfully !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f770d792-cb45-482e-944f-57ac9dc7094d&quot;,&quot;parentUUID&quot;:&quot;a7b1cc15-3261-45eb-b3ed-2e2a1dbd6e66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT POST a question with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Questions /POST questions it should NOT POST a question with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const createdQuestion = await _chai.default.request(_app.default).post(&#x27;/server/api/questions&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;).send(question);\nconst createdQuestion2 = await _chai.default.request(_app.default).post(&#x27;/server/api/questions&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;).send(question);\ncreatedQuestion.status.should.be.eql(401);\ncreatedQuestion2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db125408-e365-4ae7-b23e-07f4bbbdf201&quot;,&quot;parentUUID&quot;:&quot;a7b1cc15-3261-45eb-b3ed-2e2a1dbd6e66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f770d792-cb45-482e-944f-57ac9dc7094d&quot;,&quot;db125408-e365-4ae7-b23e-07f4bbbdf201&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;51bfae52-7481-4f62-80f5-a7ca2d1da2b9&quot;,&quot;title&quot;:&quot;/GET/:id question&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET a question by the given id&quot;,&quot;fullTitle&quot;:&quot;Questions /GET/:id question it should GET a question by the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).get(`/server/api/questions/${postedQuestion.body.createdQuestion.id}`).set(&#x27;Authorization&#x27;, loginUser.body.token);\nqst.status.should.be.eql(200);\nqst.body[0].should.have.property(&#x27;question&#x27;).eql(\&quot;what&#x27;s 22 - 150 ?\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1a75012-dad8-42f8-895d-fd522cdcf79e&quot;,&quot;parentUUID&quot;:&quot;51bfae52-7481-4f62-80f5-a7ca2d1da2b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a question with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Questions /GET/:id question it should NOT GET a question with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).get(`/server/api/questions/123`).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nconst qst2 = await _chai.default.request(_app.default).get(&#x27;/server/api/questions/123&#x27;);\nqst.status.should.be.eql(401);\nqst2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd45ecc2-09f7-4d06-b8d8-95d595790e52&quot;,&quot;parentUUID&quot;:&quot;51bfae52-7481-4f62-80f5-a7ca2d1da2b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a question with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Questions /GET/:id question it should NOT GET a question with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).get(`/server/api/questions/1f468dbf5082002118fc8821`).set(&#x27;Authorization&#x27;, loginUser.body.token);\nqst.status.should.be.eql(404);\nqst.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found for provided id&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e69f2a00-2ab5-41f1-b05c-4e29b02a4a97&quot;,&quot;parentUUID&quot;:&quot;51bfae52-7481-4f62-80f5-a7ca2d1da2b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c1a75012-dad8-42f8-895d-fd522cdcf79e&quot;,&quot;cd45ecc2-09f7-4d06-b8d8-95d595790e52&quot;,&quot;e69f2a00-2ab5-41f1-b05c-4e29b02a4a97&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:57,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;187a5e06-f5a0-46bc-b586-b835bec0356a&quot;,&quot;title&quot;:&quot;/PATCH/:id question&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should NOT PATCH a question with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Questions /PATCH/:id question it should NOT PATCH a question with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:30,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).patch(`/server/api/questions/5e97314f7cb39f58e4e21ed6`).send(question).set(&#x27;Authorization&#x27;, loginUser.body.token);\nqst.status.should.be.eql(404);\nqst.body.should.be.a(&#x27;object&#x27;);\nqst.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found for provided id&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa0fcee5-7ca2-4120-b5c0-c4e2838fae1c&quot;,&quot;parentUUID&quot;:&quot;187a5e06-f5a0-46bc-b586-b835bec0356a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should PATCH a question by the given id&quot;,&quot;fullTitle&quot;:&quot;Questions /PATCH/:id question it should PATCH a question by the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;question.type = \&quot;boolean\&quot;;\nconst qst = await _chai.default.request(_app.default).patch(`/server/api/questions/${postedQuestion.body.createdQuestion.id}`).set(&#x27;Authorization&#x27;, loginUser.body.token).send(question);\nqst.status.should.be.eql(200);\nqst.body.should.have.property(&#x27;updatedQuestion&#x27;);\nqst.body.updatedQuestion.should.have.property(&#x27;type&#x27;).eql(&#x27;boolean&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3ded6d3-2773-42ef-ae73-69a4d24bbeed&quot;,&quot;parentUUID&quot;:&quot;187a5e06-f5a0-46bc-b586-b835bec0356a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a question with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Questions /PATCH/:id question it should NOT PATCH a question with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).patch(&#x27;/server/api/questions/123&#x27;).send(question);\nconst qst2 = await _chai.default.request(_app.default).patch(&#x27;/server/api/questions/123&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;).send(question);\nqst.status.should.be.eql(401);\nqst2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b9158fc-b177-472f-9b7d-73fa0421ccf2&quot;,&quot;parentUUID&quot;:&quot;187a5e06-f5a0-46bc-b586-b835bec0356a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;aa0fcee5-7ca2-4120-b5c0-c4e2838fae1c&quot;,&quot;d3ded6d3-2773-42ef-ae73-69a4d24bbeed&quot;,&quot;4b9158fc-b177-472f-9b7d-73fa0421ccf2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:72,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;241eae24-96e4-4998-93dc-eccc6b41bfee&quot;,&quot;title&quot;:&quot;/DELETE/:id question&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should DELETE a question by the given id&quot;,&quot;fullTitle&quot;:&quot;Questions /DELETE/:id question it should DELETE a question by the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).delete(`/server/api/questions/${postedQuestion.body.createdQuestion.id}`).set(&#x27;Authorization&#x27;, loginUser.body.token);\nqst.status.should.be.equal(200);\nqst.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Question deleted successfully !&#x27;);\nqst.body.should.have.property(&#x27;deletedQuestion&#x27;).eql(\&quot;what&#x27;s 22 - 150 ?\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0dfc0da-262f-4747-b05b-ecf558e19b44&quot;,&quot;parentUUID&quot;:&quot;241eae24-96e4-4998-93dc-eccc6b41bfee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a question with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Questions /DELETE/:id question it should NOT DELETE a question with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const deletedUser = await _chai.default.request(_app.default).delete(&#x27;/server/api/questions/1c7414e51167af71f81f4313&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedUser.status.should.be.equal(404);\ndeletedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found for provided id .&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5ec39f6-c8ed-4cf0-8ecb-a40ef4fdb019&quot;,&quot;parentUUID&quot;:&quot;241eae24-96e4-4998-93dc-eccc6b41bfee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a question with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Questions /DELETE/:id question it should NOT DELETE a question with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).delete(&#x27;/server/api/questions/123&#x27;);\nconst qst2 = await _chai.default.request(_app.default).delete(&#x27;/server/api/questions/123&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nqst.status.should.be.eql(401);\nqst2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf7f53fa-c376-4137-bfa0-e185fa4b2ca7&quot;,&quot;parentUUID&quot;:&quot;241eae24-96e4-4998-93dc-eccc6b41bfee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b0dfc0da-262f-4747-b05b-ecf558e19b44&quot;,&quot;c5ec39f6-c8ed-4cf0-8ecb-a40ef4fdb019&quot;,&quot;bf7f53fa-c376-4137-bfa0-e185fa4b2ca7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:56,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;6054be76-9ffd-4302-85c3-89b7568d3ae7&quot;,&quot;title&quot;:&quot;Reviews&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Reviews \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:218,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;loginUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send(user);\ncreateReview = await _chai.default.request(_app.default).post(`/server/api/user/${_environment.default.ADMIN_ID}/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8048d3d3-9738-4c97-939e-f673da15f7c0&quot;,&quot;parentUUID&quot;:&quot;6054be76-9ffd-4302-85c3-89b7568d3ae7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Reviews \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await _repository.reviewRepository.save({\n  id: _environment.default.ADMIN_ID,\n  new: true,\n  reviews: [{\n    \&quot;rating\&quot;: 3,\n    \&quot;reviewText\&quot;: \&quot;This is the 3rd review !!!\&quot;\n  }]\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a574162e-1dc5-40b3-940f-fc3ff2bdd654&quot;,&quot;parentUUID&quot;:&quot;6054be76-9ffd-4302-85c3-89b7568d3ae7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1d41112a-80f2-4d75-8b63-ad9c2ad47e13&quot;,&quot;title&quot;:&quot;/GET reviews&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should get all reviews&quot;,&quot;fullTitle&quot;:&quot;Reviews /GET reviews it should get all reviews&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const reviews = await _chai.default.request(_app.default).get(&#x27;/server/api/reviews/all&#x27;);\nreviews.status.should.be.eql(200);\nreviews.body.should.be.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b966b8a6-e64c-413f-9cc2-65d70cf351ba&quot;,&quot;parentUUID&quot;:&quot;1d41112a-80f2-4d75-8b63-ad9c2ad47e13&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b966b8a6-e64c-413f-9cc2-65d70cf351ba&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:25,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;c26f6f97-ab25-48f3-a26c-5c3df2ec2940&quot;,&quot;title&quot;:&quot;/POST review&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should create a review&quot;,&quot;fullTitle&quot;:&quot;Reviews /POST review it should create a review&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;createReview.status.should.be.eql(201);\ncreateReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Review created successfully !&#x27;);\ncreateReview.body.should.be.a(&#x27;object&#x27;);\n(0, _chai.expect)(createReview.body.updatedUser.reviews.rating).to.equal(3);\n(0, _chai.expect)(createReview.body.updatedUser.reviews.reviewText).to.equal(\&quot;This is the 3rd review\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3f4e60af-3035-4c3e-b047-ffa8e1e20900&quot;,&quot;parentUUID&quot;:&quot;c26f6f97-ab25-48f3-a26c-5c3df2ec2940&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT create a review with a wrong user id&quot;,&quot;fullTitle&quot;:&quot;Reviews /POST review it should NOT create a review with a wrong user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const review = await _chai.default.request(_app.default).post(`/server/api/user/1f468dbf5082002118fc8821/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);\nreview.status.should.be.eql(404);\nreview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found for provided id !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1ed678e-79a7-4980-9f78-d709487d382c&quot;,&quot;parentUUID&quot;:&quot;c26f6f97-ab25-48f3-a26c-5c3df2ec2940&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT create a review with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Reviews /POST review it should NOT create a review with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const createdReview = await _chai.default.request(_app.default).post(`/server/api/user/${_environment.default.ADMIN_ID}/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nconst createdReview2 = await _chai.default.request(_app.default).post(`/server/api/user/${_environment.default.ADMIN_ID}/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\ncreatedReview.status.should.be.eql(401);\ncreatedReview2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a74d63a8-e3c1-491c-af3f-6634cd788b60&quot;,&quot;parentUUID&quot;:&quot;c26f6f97-ab25-48f3-a26c-5c3df2ec2940&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should make sure a student can&#x27;t create a review for others&quot;,&quot;fullTitle&quot;:&quot;Reviews /POST review it should make sure a student can&#x27;t create a review for others&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:581,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst createdReview = await _chai.default.request(_app.default).post(`/server/api/user/${rbac.createdUser2.createdUser._id}/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, rbac.logInUser1.token);\ncreatedReview.status.should.be.eql(403);\ncreatedReview.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a83f7ca-1b13-4534-9b59-2229cde9b996&quot;,&quot;parentUUID&quot;:&quot;c26f6f97-ab25-48f3-a26c-5c3df2ec2940&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3f4e60af-3035-4c3e-b047-ffa8e1e20900&quot;,&quot;f1ed678e-79a7-4980-9f78-d709487d382c&quot;,&quot;a74d63a8-e3c1-491c-af3f-6634cd788b60&quot;,&quot;0a83f7ca-1b13-4534-9b59-2229cde9b996&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:627,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;180acb4d-8d5c-43c8-adbd-8eb6aadd6e76&quot;,&quot;title&quot;:&quot;/PATCH:id review&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should PATCH a review with the given id&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should PATCH a review with the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const username = createReview.body.updatedUser.reviews.author;\nconst reviewId = createReview.body.updatedUser.reviews._id;\nconst updateReview = await _chai.default.request(_app.default).patch(`/server/api/user/${username}/reviews/${reviewId}`).send({\n  \&quot;rating\&quot;: 2,\n  \&quot;reviewText\&quot;: \&quot;This is the 1st review\&quot;\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);\nupdateReview.status.should.be.eql(200);\nupdateReview.body.should.be.a(&#x27;object&#x27;);\nupdateReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Review updated successfully !&#x27;);\n(0, _chai.expect)(updateReview.body.updatedUser.updatedReview.rating).to.equal(2);\n(0, _chai.expect)(updateReview.body.updatedUser.updatedReview.reviewText).to.equal(\&quot;This is the 1st review\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc3d63a3-9073-4ce5-bde2-4ff78d77eae2&quot;,&quot;parentUUID&quot;:&quot;180acb4d-8d5c-43c8-adbd-8eb6aadd6e76&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updateReview = await _chai.default.request(_app.default).patch(`/server/api/user/${_environment.default.ADMIN_PSEUDO}/reviews/7e7fd1d5f71b123cbc246700`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 1st review\&quot;\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);\nupdateReview.status.should.be.eql(404);\nupdateReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No was review found with provided id !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67bc99ce-c8aa-441e-b01c-e4aaf2102eeb&quot;,&quot;parentUUID&quot;:&quot;180acb4d-8d5c-43c8-adbd-8eb6aadd6e76&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review whose user has none&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review whose user has none&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:366,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst updateReview = await _chai.default.request(_app.default).patch(`/server/api/user/${rbac.username1}/reviews/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, rbac.logInUser1.token).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n});\nupdateReview.status.should.be.eql(404);\nupdateReview.body.should.have.property(&#x27;message&#x27;).eql(`${rbac.username1} doesn&#x27;t have any reviews at the moment !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f49075d6-2e10-4549-b047-111925e5dc01&quot;,&quot;parentUUID&quot;:&quot;180acb4d-8d5c-43c8-adbd-8eb6aadd6e76&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review for unregistered user&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review for unregistered user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const username = Math.random().toString(36).substr(2, 9);\nconst updatedReview = await _chai.default.request(_app.default).patch(`/server/api/user/${username}/reviews/7e7fd1d5f71b123cbc246700`).send({\n  \&quot;rating\&quot;: 2,\n  \&quot;reviewText\&quot;: \&quot;This is the 1st review\&quot;\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);\nupdatedReview.status.should.be.eql(404);\nupdatedReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No user was found with provided email&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c42c9e25-d40f-4d3e-9dc8-6a1dcd0d015e&quot;,&quot;parentUUID&quot;:&quot;180acb4d-8d5c-43c8-adbd-8eb6aadd6e76&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const createdReview = await _chai.default.request(_app.default).patch(`/server/api/user/abc/reviews/123`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nconst createdReview2 = await _chai.default.request(_app.default).patch(`/server/api/user/abc/reviews/123`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n});\ncreatedReview.status.should.be.eql(401);\ncreatedReview2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41195bd7-4653-4a08-9d58-85821d049f36&quot;,&quot;parentUUID&quot;:&quot;180acb4d-8d5c-43c8-adbd-8eb6aadd6e76&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should make sure a student can&#x27;t update a review for others&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should make sure a student can&#x27;t update a review for others&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:548,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst user1Review = await _chai.default.request(_app.default).post(`/server/api/user/${rbac.firstUserId}/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, rbac.logInUser1.token);\nconst user1ReviewId = user1Review.body.updatedUser.reviews._id;\nconst updateReview = await _chai.default.request(_app.default).patch(`/server/api/user/${rbac.username1}/reviews/${user1ReviewId}`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, rbac.logInUser2.token);\nupdateReview.status.should.be.eql(403);\nupdateReview.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2cfb48ca-27f3-45d3-bfab-6ea0a542df8f&quot;,&quot;parentUUID&quot;:&quot;180acb4d-8d5c-43c8-adbd-8eb6aadd6e76&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dc3d63a3-9073-4ce5-bde2-4ff78d77eae2&quot;,&quot;67bc99ce-c8aa-441e-b01c-e4aaf2102eeb&quot;,&quot;f49075d6-2e10-4549-b047-111925e5dc01&quot;,&quot;c42c9e25-d40f-4d3e-9dc8-6a1dcd0d015e&quot;,&quot;41195bd7-4653-4a08-9d58-85821d049f36&quot;,&quot;2cfb48ca-27f3-45d3-bfab-6ea0a542df8f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:981,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;572d78e0-eccd-4535-b84c-caac89ca5321&quot;,&quot;title&quot;:&quot;/DELETE:id review&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should DELETE a review with the given id&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should DELETE a review with the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:36,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const username = createReview.body.updatedUser.reviews.author;\nconst reviewId = createReview.body.updatedUser.reviews._id;\nconst deletedReview = await _chai.default.request(_app.default).delete(`/server/api/user/${username}/reviews/${reviewId}`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedReview.status.should.be.eql(200);\ndeletedReview.body.should.be.a(&#x27;object&#x27;);\n(0, _chai.expect)(deletedReview.body.updatedUser.removedReview._id).to.equal(reviewId);\ndeletedReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Review deleted successfully !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74a9078f-14a7-43a2-b392-7385a498cf29&quot;,&quot;parentUUID&quot;:&quot;572d78e0-eccd-4535-b84c-caac89ca5321&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a review with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should NOT DELETE a review with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const deletedReview = await _chai.default.request(_app.default).delete(`/server/api/user/${_environment.default.ADMIN_PSEUDO}/reviews/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedReview.status.should.be.eql(404);\ndeletedReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No was review found with provided id !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;64acf2dc-16fd-491c-890c-b2087a920cfb&quot;,&quot;parentUUID&quot;:&quot;572d78e0-eccd-4535-b84c-caac89ca5321&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a review whose user has none&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should NOT DELETE a review whose user has none&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:96,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUser = (0, _make2users.default)().user1;\nconst postUser = await _services.userService.addUser({ ...newUser\n});\nconst username = postUser.createdUser.username;\nconst deletedReview = await _chai.default.request(_app.default).delete(`/server/api/user/${username}/reviews/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedReview.status.should.be.eql(404);\ndeletedReview.body.should.have.property(&#x27;message&#x27;).eql(`${username} doesn&#x27;t have any reviews at the moment !`);\nawait _repository.userRepository.remove({\n  id: postUser.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b1190a6-b4bb-4804-9df2-e444e0f6ba71&quot;,&quot;parentUUID&quot;:&quot;572d78e0-eccd-4535-b84c-caac89ca5321&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a review for unregistered user&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should NOT DELETE a review for unregistered user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const username = Math.random().toString(36).substr(2, 9);\nconst deletedReview = await _chai.default.request(_app.default).delete(`/server/api/user/${username}/reviews/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedReview.status.should.be.eql(404);\ndeletedReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No user was found with provided email !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01d74f7f-b30d-41fc-981a-f0c909f52b40&quot;,&quot;parentUUID&quot;:&quot;572d78e0-eccd-4535-b84c-caac89ca5321&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a review with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should NOT DELETE a review with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const createdReview = await _chai.default.request(_app.default).delete(`/server/api/user/abc/reviews/123`).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nconst createdReview2 = await _chai.default.request(_app.default).delete(`/server/api/user/abc/reviews/123`);\ncreatedReview.status.should.be.eql(401);\ncreatedReview2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fdc14639-6050-480a-9768-5ce38f51632d&quot;,&quot;parentUUID&quot;:&quot;572d78e0-eccd-4535-b84c-caac89ca5321&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should make sure a student can&#x27;t delete a review for others&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should make sure a student can&#x27;t delete a review for others&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:387,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst user1Review = await _chai.default.request(_app.default).post(`/server/api/user/${rbac.firstUserId}/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, rbac.logInUser1.token);\nconst user1ReviewId = user1Review.body.updatedUser.reviews._id;\nconst deleteReview = await _chai.default.request(_app.default).delete(`/server/api/user/${rbac.username1}/reviews/${user1ReviewId}`).set(&#x27;Authorization&#x27;, rbac.logInUser2.token);\ndeleteReview.status.should.be.eql(403);\ndeleteReview.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8cf18f78-4600-4974-888f-a297d9eb647c&quot;,&quot;parentUUID&quot;:&quot;572d78e0-eccd-4535-b84c-caac89ca5321&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;74a9078f-14a7-43a2-b392-7385a498cf29&quot;,&quot;64acf2dc-16fd-491c-890c-b2087a920cfb&quot;,&quot;9b1190a6-b4bb-4804-9df2-e444e0f6ba71&quot;,&quot;01d74f7f-b30d-41fc-981a-f0c909f52b40&quot;,&quot;fdc14639-6050-480a-9768-5ce38f51632d&quot;,&quot;8cf18f78-4600-4974-888f-a297d9eb647c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:552,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;ad70f11a-1993-45b3-a7fb-998ae78feb34&quot;,&quot;title&quot;:&quot;Users&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Users \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:88,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;loginUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send(user);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5cfa760-3222-4075-9ea2-36a2572fb464&quot;,&quot;parentUUID&quot;:&quot;ad70f11a-1993-45b3-a7fb-998ae78feb34&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;09bae0a8-a5f4-42be-aea3-d670017c65f9&quot;,&quot;title&quot;:&quot;/login user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should login a user&quot;,&quot;fullTitle&quot;:&quot;Users /login user it should login a user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;loginUser.status.should.be.eql(200);\nloginUser.body.should.have.property(&#x27;token&#x27;);\n(0, _chai.expect)(loginUser.body.success).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;46905c32-225d-4090-ba48-ca63ee4fad2d&quot;,&quot;parentUUID&quot;:&quot;09bae0a8-a5f4-42be-aea3-d670017c65f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT login a user with a wrong password&quot;,&quot;fullTitle&quot;:&quot;Users /login user it should NOT login a user with a wrong password&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:94,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fakeUser = {\n  \&quot;pseudo\&quot;: _environment.default.ADMIN_PSEUDO,\n  \&quot;password\&quot;: \&quot;xxxxxxxxxxxxxx\&quot;\n};\nconst loggedIn = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send(fakeUser);\nloggedIn.status.should.be.eql(401);\nloggedIn.body.should.not.have.property(&#x27;token&#x27;);\n(0, _chai.expect)(loggedIn.body.success).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d10d2931-4975-4339-bf2a-97ee20f4c672&quot;,&quot;parentUUID&quot;:&quot;09bae0a8-a5f4-42be-aea3-d670017c65f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;46905c32-225d-4090-ba48-ca63ee4fad2d&quot;,&quot;d10d2931-4975-4339-bf2a-97ee20f4c672&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:94,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;c20d9c01-b692-4d53-8fa8-53ddea09c16d&quot;,&quot;title&quot;:&quot;/singup user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should create a new user&quot;,&quot;fullTitle&quot;:&quot;Users /singup user it should create a new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:102,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUser = (0, _make2users.default)().user1;\nconst createdUser = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(newUser);\ncreatedUser.status.should.be.eql(201);\ncreatedUser.body.should.have.property(&#x27;message&#x27;).eql(`A verification email has been sent to ${newUser.email}`);\n(0, _chai.expect)(createdUser.body.success).to.be.true;\nawait _repository.userRepository.remove({\n  id: createdUser.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a9c7ad87-b708-4617-808f-d556589da9e0&quot;,&quot;parentUUID&quot;:&quot;c20d9c01-b692-4d53-8fa8-53ddea09c16d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT create a user if he/she already exists&quot;,&quot;fullTitle&quot;:&quot;Users /singup user it should NOT create a user if he/she already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUser = {\n  \&quot;username\&quot;: _environment.default.ADMIN_PSEUDO,\n  \&quot;email\&quot;: `abc@gmail.com`,\n  \&quot;password\&quot;: &#x27;abc&#x27;\n};\nconst createdUser = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(newUser);\ncreatedUser.status.should.be.eql(409);\ncreatedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;A user with the same username or email already exists !&#x27;);\n(0, _chai.expect)(createdUser.body.success).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12555528-d53d-47cd-b1e9-925540ea3482&quot;,&quot;parentUUID&quot;:&quot;c20d9c01-b692-4d53-8fa8-53ddea09c16d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a9c7ad87-b708-4617-808f-d556589da9e0&quot;,&quot;12555528-d53d-47cd-b1e9-925540ea3482&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:111,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;6c2047ca-d977-4db5-a10b-13e47417873e&quot;,&quot;title&quot;:&quot;/GET users&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all users&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should GET all users&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.token);\nusers.status.should.be.eql(200);\nusers.body.should.be.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;64e83b96-73d6-46d6-aeee-201714e82f99&quot;,&quot;parentUUID&quot;:&quot;6c2047ca-d977-4db5-a10b-13e47417873e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET all user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should NOT GET all user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;);\nconst users1 = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;\nusers1.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;243195b7-e867-432d-adc7-df57047dd4b1&quot;,&quot;parentUUID&quot;:&quot;6c2047ca-d977-4db5-a10b-13e47417873e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET all users if the request is sent by a student&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should NOT GET all users if the request is sent by a student&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:387,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst getUsers = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;).set(&#x27;Authorization&#x27;, rbac.logInUser1.token);\ngetUsers.status.should.be.eql(403);\ngetUsers.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;abed648e-442a-45fa-9dfb-946e37ab240e&quot;,&quot;parentUUID&quot;:&quot;6c2047ca-d977-4db5-a10b-13e47417873e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;64e83b96-73d6-46d6-aeee-201714e82f99&quot;,&quot;243195b7-e867-432d-adc7-df57047dd4b1&quot;,&quot;abed648e-442a-45fa-9dfb-946e37ab240e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:408,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;ca48f805-23e5-4070-a91b-0047e5c21fc1&quot;,&quot;title&quot;:&quot;/GET/:id user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET a user by id&quot;,&quot;fullTitle&quot;:&quot;Users /GET/:id user it should GET a user by id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const getUser = await _chai.default.request(_app.default).get(`/server/api/user/${_environment.default.ADMIN_ID}`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ngetUser.status.should.be.eql(200);\ngetUser.body.should.be.an(&#x27;object&#x27;);\ngetUser.body.should.have.property(&#x27;user&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1d0f765-2f41-4cac-9ddd-3c45c7289f32&quot;,&quot;parentUUID&quot;:&quot;ca48f805-23e5-4070-a91b-0047e5c21fc1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a user by a wrong id&quot;,&quot;fullTitle&quot;:&quot;Users /GET/:id user it should NOT GET a user by a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const getUser = await _chai.default.request(_app.default).get(`/server/api/user/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ngetUser.status.should.be.eql(404);\ngetUser.body.should.be.an(&#x27;object&#x27;);\ngetUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found with provided id&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fab20e37-49ee-4082-8475-544851b25bf4&quot;,&quot;parentUUID&quot;:&quot;ca48f805-23e5-4070-a91b-0047e5c21fc1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /GET/:id user it should NOT GET a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;);\nconst users1 = await _chai.default.request(_app.default).get(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2bc0dff5-a534-4f1d-b144-bf4619b1c226&quot;,&quot;parentUUID&quot;:&quot;ca48f805-23e5-4070-a91b-0047e5c21fc1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should check that a student can&#x27;t get/see another student&#x27;s profile&quot;,&quot;fullTitle&quot;:&quot;Users /GET/:id user it should check that a student can&#x27;t get/see another student&#x27;s profile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:343,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst getProfile = await _chai.default.request(_app.default).get(`/server/api/user/${rbac.createdUser2.createdUser._id}`).set(&#x27;Authorization&#x27;, rbac.logInUser1.token);\ngetProfile.status.should.be.eql(403);\ngetProfile.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b049391e-f9da-4bb7-85cc-03c47a467600&quot;,&quot;parentUUID&quot;:&quot;ca48f805-23e5-4070-a91b-0047e5c21fc1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e1d0f765-2f41-4cac-9ddd-3c45c7289f32&quot;,&quot;fab20e37-49ee-4082-8475-544851b25bf4&quot;,&quot;2bc0dff5-a534-4f1d-b144-bf4619b1c226&quot;,&quot;b049391e-f9da-4bb7-85cc-03c47a467600&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:393,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;ea7f88a8-8028-439c-b155-64eb2ea5645f&quot;,&quot;title&quot;:&quot;/PATCH/:id user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should PATCH a user by id&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should PATCH a user by id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:132,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const patchUser = await _chai.default.request(_app.default).patch(`/server/api/user/${_environment.default.ADMIN_ID}`).set(&#x27;Authorization&#x27;, loginUser.body.token).send(admin);\npatchUser.status.should.be.eql(200);\n(0, _chai.expect)(patchUser.body.updatedUser.username).to.equal(_environment.default.ADMIN_PSEUDO);\npatchUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User info updated successfully&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;89761f6c-0663-4ab3-b48a-a762e48b8325&quot;,&quot;parentUUID&quot;:&quot;ea7f88a8-8028-439c-b155-64eb2ea5645f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a user by a wrong id&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should NOT PATCH a user by a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updateUser = await _chai.default.request(_app.default).patch(`/server/api/user/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token).send(admin);\nupdateUser.status.should.be.eql(404);\nupdateUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found with provided id .&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c2ab3a9a-e5a4-4bed-9aeb-2ffccbd1ca4e&quot;,&quot;parentUUID&quot;:&quot;ea7f88a8-8028-439c-b155-64eb2ea5645f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should NOT PATCH a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).patch(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;);\nconst users1 = await _chai.default.request(_app.default).patch(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4194577c-76a2-4a48-93df-a52a04721989&quot;,&quot;parentUUID&quot;:&quot;ea7f88a8-8028-439c-b155-64eb2ea5645f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should check that a student can&#x27;t update another student&#x27;s profile&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should check that a student can&#x27;t update another student&#x27;s profile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:389,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst updateProfile = await _chai.default.request(_app.default).patch(`/server/api/user/${rbac.createdUser2.createdUser._id}`).set(&#x27;Authorization&#x27;, rbac.logInUser1.token).send({\n  \&quot;username\&quot;: \&quot;abc\&quot;\n});\nupdateProfile.status.should.be.eql(403);\nupdateProfile.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5e1bbde-4940-4870-9b74-0483826248f5&quot;,&quot;parentUUID&quot;:&quot;ea7f88a8-8028-439c-b155-64eb2ea5645f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;89761f6c-0663-4ab3-b48a-a762e48b8325&quot;,&quot;c2ab3a9a-e5a4-4bed-9aeb-2ffccbd1ca4e&quot;,&quot;4194577c-76a2-4a48-93df-a52a04721989&quot;,&quot;b5e1bbde-4940-4870-9b74-0483826248f5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:549,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;646e00dd-4812-41c8-8bb7-acb320684775&quot;,&quot;title&quot;:&quot;/DELETE/:id user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should DELETE a user by id&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE/:id user it should DELETE a user by id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:118,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUser = (0, _make2users.default)().user1;\nconst createdUser = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(newUser);\nconst deletedUser = await _chai.default.request(_app.default).delete(`/server/api/user/${createdUser.body.user.userId}`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedUser.status.should.be.eql(200);\n(0, _chai.expect)(deletedUser.body.removedUser.username).to.equal(newUser.username);\ndeletedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User deleted successfully !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6da35e72-4c69-437a-94d6-d45e25c72da7&quot;,&quot;parentUUID&quot;:&quot;646e00dd-4812-41c8-8bb7-acb320684775&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a user by a wrong id&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE/:id user it should NOT DELETE a user by a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const deletedUser = await _chai.default.request(_app.default).delete(`/server/api/user/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedUser.status.should.be.eql(404);\ndeletedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found with provided id&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa85d77f-2cbb-45d4-b311-9e2f507c4ae4&quot;,&quot;parentUUID&quot;:&quot;646e00dd-4812-41c8-8bb7-acb320684775&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE/:id user it should NOT DELETE a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).patch(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;);\nconst users1 = await _chai.default.request(_app.default).patch(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0e199659-e25f-4f22-8890-966ca58408f1&quot;,&quot;parentUUID&quot;:&quot;646e00dd-4812-41c8-8bb7-acb320684775&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should check that a student can&#x27;t delete another student&#x27;s profile&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE/:id user it should check that a student can&#x27;t delete another student&#x27;s profile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:555,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst deleteProfile = await _chai.default.request(_app.default).delete(`/server/api/user/${rbac.createdUser2.createdUser._id}`).set(&#x27;Authorization&#x27;, rbac.logInUser1.token);\ndeleteProfile.status.should.be.eql(403);\ndeleteProfile.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;07f827c1-7c03-4890-8199-f27f8595b823&quot;,&quot;parentUUID&quot;:&quot;646e00dd-4812-41c8-8bb7-acb320684775&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6da35e72-4c69-437a-94d6-d45e25c72da7&quot;,&quot;aa85d77f-2cbb-45d4-b311-9e2f507c4ae4&quot;,&quot;0e199659-e25f-4f22-8890-966ca58408f1&quot;,&quot;07f827c1-7c03-4890-8199-f27f8595b823&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:696,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;0beaec92-d972-4057-b44d-55c029d0673f&quot;,&quot;title&quot;:&quot;/PATCH/:id/score&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should PATCH the user&#x27;s score&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id/score it should PATCH the user&#x27;s score&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:36,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adminScore = await _chai.default.request(_app.default).patch(`/server/api/user/${_environment.default.ADMIN_ID}/score`).send({\n  \&quot;score\&quot;: 10\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);\nadminScore.status.should.be.eql(200);\n(0, _chai.expect)(adminScore.body.updatedUser.score).to.equal(10);\n(0, _chai.expect)(adminScore.body.updatedUser.level).to.equal(&#x27;C2&#x27;);\nadminScore.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User info updated successfully !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a0d15e1-0e4b-4ec3-926f-ba6b6084a5fb&quot;,&quot;parentUUID&quot;:&quot;0beaec92-d972-4057-b44d-55c029d0673f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should check that a student can&#x27;t update another student&#x27;s score&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id/score it should check that a student can&#x27;t update another student&#x27;s score&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:550,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst updateScore = await _chai.default.request(_app.default).patch(`/server/api/user/${rbac.createdUser2.createdUser._id}/score`).set(&#x27;Authorization&#x27;, rbac.logInUser1.token).send({\n  \&quot;score\&quot;: 8\n});\nupdateScore.status.should.be.eql(403);\nupdateScore.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7575af7e-9864-4104-8daf-b85af250df2c&quot;,&quot;parentUUID&quot;:&quot;0beaec92-d972-4057-b44d-55c029d0673f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5a0d15e1-0e4b-4ec3-926f-ba6b6084a5fb&quot;,&quot;7575af7e-9864-4104-8daf-b85af250df2c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:586,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:10000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.1.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;index&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.1.1&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;test-reports/integration&quot;,&quot;reportFilename&quot;:&quot;index&quot;},&quot;version&quot;:&quot;5.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;test-reports/integration&quot;,&quot;reportTitle&quot;:&quot;mean-stack-web-app&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;test-reports\\integration\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\test-reports\\integration\\index.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\test-reports\\integration\\index.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>