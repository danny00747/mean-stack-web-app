<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:19,&quot;tests&quot;:51,&quot;passes&quot;:51,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-08-06T03:07:20.072Z&quot;,&quot;end&quot;:&quot;2020-08-06T03:07:24.405Z&quot;,&quot;duration&quot;:4333,&quot;testsRegistered&quot;:51,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;bb274eda-1b4c-416f-bf9d-d7d126bb0cff&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2dfc45be-5f60-4ff9-86ec-1d816ee7bfe0&quot;,&quot;title&quot;:&quot;Questions&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Questions \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:183,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;loginUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send(user);\npostedQuestion = await _chai.default.request(_app.default).post(&#x27;/server/api/questions&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.token).send(question);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f474b63-d82f-495f-8616-80244b9b3fdb&quot;,&quot;parentUUID&quot;:&quot;2dfc45be-5f60-4ff9-86ec-1d816ee7bfe0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Questions \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await _questions.default.deleteMany({});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8048d08-e150-4670-b00b-986cad13d324&quot;,&quot;parentUUID&quot;:&quot;2dfc45be-5f60-4ff9-86ec-1d816ee7bfe0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;c4404410-27eb-4240-966b-3313583e629d&quot;,&quot;title&quot;:&quot;/GET questions&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all questions&quot;,&quot;fullTitle&quot;:&quot;Questions /GET questions it should GET all questions&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const getQuestion = await _chai.default.request(_app.default).get(&#x27;/server/api/questions&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.token);\ngetQuestion.status.should.be.eql(200);\ngetQuestion.body.should.be.a(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6dc3f90d-8f97-494a-92db-50b130027a8b&quot;,&quot;parentUUID&quot;:&quot;c4404410-27eb-4240-966b-3313583e629d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET all question with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Questions /GET questions it should NOT GET all question with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const getQuestions = await _chai.default.request(_app.default).get(&#x27;/server/api/questions&#x27;);\nconst getQuestions2 = await _chai.default.request(_app.default).get(&#x27;/server/api/questions&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\ngetQuestions.status.should.be.eql(401);\ngetQuestions2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4bbf6a8a-6b65-46e4-b7cf-cf5dc0ed0ae9&quot;,&quot;parentUUID&quot;:&quot;c4404410-27eb-4240-966b-3313583e629d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6dc3f90d-8f97-494a-92db-50b130027a8b&quot;,&quot;4bbf6a8a-6b65-46e4-b7cf-cf5dc0ed0ae9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:24,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;eb6c8ede-985b-49c0-875e-a158b0667fde&quot;,&quot;title&quot;:&quot;/POST questions&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should POST a question &quot;,&quot;fullTitle&quot;:&quot;Questions /POST questions it should POST a question &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;postedQuestion.status.should.be.eql(201);\npostedQuestion.body.should.be.a(&#x27;object&#x27;);\npostedQuestion.body.createdQuestion.should.be.a(&#x27;object&#x27;);\npostedQuestion.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Created question successfully !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96e71022-ed78-4769-8400-b0b61873d7bb&quot;,&quot;parentUUID&quot;:&quot;eb6c8ede-985b-49c0-875e-a158b0667fde&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT POST a question with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Questions /POST questions it should NOT POST a question with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const createdQuestion = await _chai.default.request(_app.default).post(&#x27;/server/api/questions&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;).send(question);\nconst createdQuestion2 = await _chai.default.request(_app.default).post(&#x27;/server/api/questions&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;).send(question);\ncreatedQuestion.status.should.be.eql(401);\ncreatedQuestion2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3882cfc0-6828-45fa-948d-a273866642a9&quot;,&quot;parentUUID&quot;:&quot;eb6c8ede-985b-49c0-875e-a158b0667fde&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;96e71022-ed78-4769-8400-b0b61873d7bb&quot;,&quot;3882cfc0-6828-45fa-948d-a273866642a9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;08884786-476e-4b6f-9948-33fd86b39122&quot;,&quot;title&quot;:&quot;/GET/:id question&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET a question by the given id&quot;,&quot;fullTitle&quot;:&quot;Questions /GET/:id question it should GET a question by the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).get(`/server/api/questions/${postedQuestion.body.createdQuestion.id}`).set(&#x27;Authorization&#x27;, loginUser.body.token);\nqst.status.should.be.eql(200);\nqst.body[0].should.have.property(&#x27;question&#x27;).eql(\&quot;what&#x27;s 22 - 150 ?\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0079c25-9c57-4b0d-89d8-5f5bb075967f&quot;,&quot;parentUUID&quot;:&quot;08884786-476e-4b6f-9948-33fd86b39122&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a question with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Questions /GET/:id question it should NOT GET a question with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).get(`/server/api/questions/123`).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nconst qst2 = await _chai.default.request(_app.default).get(&#x27;/server/api/questions/123&#x27;);\nqst.status.should.be.eql(401);\nqst2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;affca4e0-8580-4f4e-8a87-ee2a4136705e&quot;,&quot;parentUUID&quot;:&quot;08884786-476e-4b6f-9948-33fd86b39122&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a question with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Questions /GET/:id question it should NOT GET a question with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).get(`/server/api/questions/1f468dbf5082002118fc8821`).set(&#x27;Authorization&#x27;, loginUser.body.token);\nqst.status.should.be.eql(404);\nqst.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found for provided id&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ab47d89-3ed6-4d67-a267-5069cd96b267&quot;,&quot;parentUUID&quot;:&quot;08884786-476e-4b6f-9948-33fd86b39122&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f0079c25-9c57-4b0d-89d8-5f5bb075967f&quot;,&quot;affca4e0-8580-4f4e-8a87-ee2a4136705e&quot;,&quot;7ab47d89-3ed6-4d67-a267-5069cd96b267&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:34,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;d994b8cb-1b65-4c97-b355-b32fac2d5c1a&quot;,&quot;title&quot;:&quot;/PATCH/:id question&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should NOT PATCH a question with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Questions /PATCH/:id question it should NOT PATCH a question with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).patch(`/server/api/questions/5e97314f7cb39f58e4e21ed6`).send(question).set(&#x27;Authorization&#x27;, loginUser.body.token);\nqst.status.should.be.eql(404);\nqst.body.should.be.a(&#x27;object&#x27;);\nqst.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found for provided id&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;94a62be0-26f9-41da-aee5-2508e1adaec5&quot;,&quot;parentUUID&quot;:&quot;d994b8cb-1b65-4c97-b355-b32fac2d5c1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should PATCH a question by the given id&quot;,&quot;fullTitle&quot;:&quot;Questions /PATCH/:id question it should PATCH a question by the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;question.type = \&quot;boolean\&quot;;\nconst qst = await _chai.default.request(_app.default).patch(`/server/api/questions/${postedQuestion.body.createdQuestion.id}`).set(&#x27;Authorization&#x27;, loginUser.body.token).send(question);\nqst.status.should.be.eql(200);\nqst.body.should.have.property(&#x27;updatedQuestion&#x27;);\nqst.body.updatedQuestion.should.have.property(&#x27;type&#x27;).eql(&#x27;boolean&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e096ff77-9510-4058-baeb-e394784af6e6&quot;,&quot;parentUUID&quot;:&quot;d994b8cb-1b65-4c97-b355-b32fac2d5c1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a question with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Questions /PATCH/:id question it should NOT PATCH a question with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).patch(&#x27;/server/api/questions/123&#x27;).send(question);\nconst qst2 = await _chai.default.request(_app.default).patch(&#x27;/server/api/questions/123&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;).send(question);\nqst.status.should.be.eql(401);\nqst2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0bdf6d68-81ea-4195-af7d-31254f780b0f&quot;,&quot;parentUUID&quot;:&quot;d994b8cb-1b65-4c97-b355-b32fac2d5c1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;94a62be0-26f9-41da-aee5-2508e1adaec5&quot;,&quot;e096ff77-9510-4058-baeb-e394784af6e6&quot;,&quot;0bdf6d68-81ea-4195-af7d-31254f780b0f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:38,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;7cb4171c-0c84-48ca-9e43-ef990584af79&quot;,&quot;title&quot;:&quot;/DELETE/:id question&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should DELETE a question by the given id&quot;,&quot;fullTitle&quot;:&quot;Questions /DELETE/:id question it should DELETE a question by the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).delete(`/server/api/questions/${postedQuestion.body.createdQuestion.id}`).set(&#x27;Authorization&#x27;, loginUser.body.token);\nqst.status.should.be.equal(200);\nqst.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Question deleted successfully !&#x27;);\nqst.body.should.have.property(&#x27;deletedQuestion&#x27;).eql(\&quot;what&#x27;s 22 - 150 ?\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;332a3da2-d358-401a-a8a4-ed873f69491f&quot;,&quot;parentUUID&quot;:&quot;7cb4171c-0c84-48ca-9e43-ef990584af79&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a question with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Questions /DELETE/:id question it should NOT DELETE a question with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const deletedUser = await _chai.default.request(_app.default).delete(&#x27;/server/api/questions/1c7414e51167af71f81f4313&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedUser.status.should.be.equal(404);\ndeletedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found for provided id .&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6625d3a7-a5a6-4611-a612-229e290e790a&quot;,&quot;parentUUID&quot;:&quot;7cb4171c-0c84-48ca-9e43-ef990584af79&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a question with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Questions /DELETE/:id question it should NOT DELETE a question with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).delete(&#x27;/server/api/questions/123&#x27;);\nconst qst2 = await _chai.default.request(_app.default).delete(&#x27;/server/api/questions/123&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nqst.status.should.be.eql(401);\nqst2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;734c1f52-8e7e-45b0-8ef8-0a1798dac63a&quot;,&quot;parentUUID&quot;:&quot;7cb4171c-0c84-48ca-9e43-ef990584af79&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;332a3da2-d358-401a-a8a4-ed873f69491f&quot;,&quot;6625d3a7-a5a6-4611-a612-229e290e790a&quot;,&quot;734c1f52-8e7e-45b0-8ef8-0a1798dac63a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:31,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;6fad74f8-173b-4331-969d-e1ce8487653e&quot;,&quot;title&quot;:&quot;Reviews&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Reviews \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:101,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;loginUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send(user);\ncreateReview = await _chai.default.request(_app.default).post(`/server/api/user/${_environment.default.ADMIN_ID}/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8668c76b-cf1f-4d39-b775-e8a19917666e&quot;,&quot;parentUUID&quot;:&quot;6fad74f8-173b-4331-969d-e1ce8487653e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Reviews \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await _repository.reviewRepository.save({\n  id: _environment.default.ADMIN_ID,\n  new: true,\n  reviews: [{\n    \&quot;rating\&quot;: 3,\n    \&quot;reviewText\&quot;: \&quot;This is the 3rd review !!!\&quot;\n  }]\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21f43cc5-2720-4f16-9396-5737dcb7a75a&quot;,&quot;parentUUID&quot;:&quot;6fad74f8-173b-4331-969d-e1ce8487653e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;cbe75ec8-f645-46b8-8ce4-c6f6e14741e6&quot;,&quot;title&quot;:&quot;/GET reviews&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should get all reviews&quot;,&quot;fullTitle&quot;:&quot;Reviews /GET reviews it should get all reviews&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const reviews = await _chai.default.request(_app.default).get(&#x27;/server/api/reviews/all&#x27;);\nreviews.status.should.be.eql(200);\nreviews.body.should.be.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5f2aa22-1cf1-45fe-92bc-4484b78aa539&quot;,&quot;parentUUID&quot;:&quot;cbe75ec8-f645-46b8-8ce4-c6f6e14741e6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b5f2aa22-1cf1-45fe-92bc-4484b78aa539&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;7d0ea09d-250d-4e17-9d1f-18aedcdfbaef&quot;,&quot;title&quot;:&quot;/POST review&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should create a review&quot;,&quot;fullTitle&quot;:&quot;Reviews /POST review it should create a review&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;createReview.status.should.be.eql(201);\ncreateReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Review created successfully !&#x27;);\ncreateReview.body.should.be.a(&#x27;object&#x27;);\n(0, _chai.expect)(createReview.body.updatedUser.reviews.rating).to.equal(3);\n(0, _chai.expect)(createReview.body.updatedUser.reviews.reviewText).to.equal(\&quot;This is the 3rd review\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8081e9b0-f761-410f-99e6-6e6834d1b0fc&quot;,&quot;parentUUID&quot;:&quot;7d0ea09d-250d-4e17-9d1f-18aedcdfbaef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT create a review for unregistered user&quot;,&quot;fullTitle&quot;:&quot;Reviews /POST review it should NOT create a review for unregistered user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const review = await _chai.default.request(_app.default).post(`/server/api/user/1f468dbf5082002118fc8821/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);\nreview.status.should.be.eql(404);\nreview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found for provided id !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;84a39a65-d2b2-4f86-ab06-517ad26a9306&quot;,&quot;parentUUID&quot;:&quot;7d0ea09d-250d-4e17-9d1f-18aedcdfbaef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT create a review with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Reviews /POST review it should NOT create a review with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const createdReview = await _chai.default.request(_app.default).post(`/server/api/user/${_environment.default.ADMIN_ID}/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nconst createdReview2 = await _chai.default.request(_app.default).post(`/server/api/user/${_environment.default.ADMIN_ID}/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\ncreatedReview.status.should.be.eql(401);\ncreatedReview2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0fabb83c-bdae-4a02-9cc7-4660ff2238a7&quot;,&quot;parentUUID&quot;:&quot;7d0ea09d-250d-4e17-9d1f-18aedcdfbaef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should make sure a student can&#x27;t create a review for others&quot;,&quot;fullTitle&quot;:&quot;Reviews /POST review it should make sure a student can&#x27;t create a review for others&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:331,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst createdReview = await _chai.default.request(_app.default).post(`/server/api/user/${rbac.createdUser2.createdUser._id}/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, rbac.logInUser1.token);\ncreatedReview.status.should.be.eql(403);\ncreatedReview.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21b0ea21-3c68-4f52-8a76-8d2c3285f364&quot;,&quot;parentUUID&quot;:&quot;7d0ea09d-250d-4e17-9d1f-18aedcdfbaef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8081e9b0-f761-410f-99e6-6e6834d1b0fc&quot;,&quot;84a39a65-d2b2-4f86-ab06-517ad26a9306&quot;,&quot;0fabb83c-bdae-4a02-9cc7-4660ff2238a7&quot;,&quot;21b0ea21-3c68-4f52-8a76-8d2c3285f364&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:351,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;3b6aab90-6dc3-4cdb-89a8-b37b32365a36&quot;,&quot;title&quot;:&quot;/PATCH:id review&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should PATCH a review with the given id&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should PATCH a review with the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const username = createReview.body.updatedUser.reviews.author;\nconst reviewId = createReview.body.updatedUser.reviews._id;\nconst updateReview = await _chai.default.request(_app.default).patch(`/server/api/user/${username}/reviews/${reviewId}`).send({\n  \&quot;rating\&quot;: 2,\n  \&quot;reviewText\&quot;: \&quot;This is the 1st review\&quot;\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);\nupdateReview.status.should.be.eql(200);\nupdateReview.body.should.be.a(&#x27;object&#x27;);\nupdateReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Review updated successfully !&#x27;);\n(0, _chai.expect)(updateReview.body.updatedUser.updatedReview.rating).to.equal(2);\n(0, _chai.expect)(updateReview.body.updatedUser.updatedReview.reviewText).to.equal(\&quot;This is the 1st review\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3fd5ad49-7567-4e56-8c6d-24c09d122027&quot;,&quot;parentUUID&quot;:&quot;3b6aab90-6dc3-4cdb-89a8-b37b32365a36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updateReview = await _chai.default.request(_app.default).patch(`/server/api/user/${_environment.default.ADMIN_PSEUDO}/reviews/7e7fd1d5f71b123cbc246700`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 1st review\&quot;\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);\nupdateReview.status.should.be.eql(404);\nupdateReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No was review found with provided id !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e7213d93-dc72-4eae-8279-d9b5345d4008&quot;,&quot;parentUUID&quot;:&quot;3b6aab90-6dc3-4cdb-89a8-b37b32365a36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review whose user has none&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review whose user has none&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:337,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst updateReview = await _chai.default.request(_app.default).patch(`/server/api/user/${rbac.username1}/reviews/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, rbac.logInUser1.token).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n});\nupdateReview.status.should.be.eql(404);\nupdateReview.body.should.have.property(&#x27;message&#x27;).eql(`${rbac.username1} doesn&#x27;t have any reviews at the moment !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c0632c1-e466-4589-9dbb-96513e1d47b4&quot;,&quot;parentUUID&quot;:&quot;3b6aab90-6dc3-4cdb-89a8-b37b32365a36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review for unregistered user&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review for unregistered user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const username = Math.random().toString(36).substr(2, 9);\nconst updatedReview = await _chai.default.request(_app.default).patch(`/server/api/user/${username}/reviews/7e7fd1d5f71b123cbc246700`).send({\n  \&quot;rating\&quot;: 2,\n  \&quot;reviewText\&quot;: \&quot;This is the 1st review\&quot;\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);\nupdatedReview.status.should.be.eql(404);\nupdatedReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No user was found with provided username&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a4ecd7d-103e-4a55-9bd3-9abd2bcdcb37&quot;,&quot;parentUUID&quot;:&quot;3b6aab90-6dc3-4cdb-89a8-b37b32365a36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const createdReview = await _chai.default.request(_app.default).patch(`/server/api/user/abc/reviews/123`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nconst createdReview2 = await _chai.default.request(_app.default).patch(`/server/api/user/abc/reviews/123`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n});\ncreatedReview.status.should.be.eql(401);\ncreatedReview2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;632c363e-b412-4ec5-956d-be5d08f425d2&quot;,&quot;parentUUID&quot;:&quot;3b6aab90-6dc3-4cdb-89a8-b37b32365a36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should make sure a student can&#x27;t update a review for others&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should make sure a student can&#x27;t update a review for others&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:338,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst user1Review = await _chai.default.request(_app.default).post(`/server/api/user/${rbac.firstUserId}/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, rbac.logInUser1.token);\nconst user1ReviewId = user1Review.body.updatedUser.reviews._id;\nconst updateReview = await _chai.default.request(_app.default).patch(`/server/api/user/${rbac.username1}/reviews/${user1ReviewId}`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, rbac.logInUser2.token);\nupdateReview.status.should.be.eql(403);\nupdateReview.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7e458a4-3fcf-4d1e-b789-82bee09dfc5d&quot;,&quot;parentUUID&quot;:&quot;3b6aab90-6dc3-4cdb-89a8-b37b32365a36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3fd5ad49-7567-4e56-8c6d-24c09d122027&quot;,&quot;e7213d93-dc72-4eae-8279-d9b5345d4008&quot;,&quot;9c0632c1-e466-4589-9dbb-96513e1d47b4&quot;,&quot;0a4ecd7d-103e-4a55-9bd3-9abd2bcdcb37&quot;,&quot;632c363e-b412-4ec5-956d-be5d08f425d2&quot;,&quot;a7e458a4-3fcf-4d1e-b789-82bee09dfc5d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:722,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;8c4659fa-8abc-4fea-8831-fe70cff95578&quot;,&quot;title&quot;:&quot;/DELETE:id review&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should DELETE a review with the given id&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should DELETE a review with the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const username = createReview.body.updatedUser.reviews.author;\nconst reviewId = createReview.body.updatedUser.reviews._id;\nconst deletedReview = await _chai.default.request(_app.default).delete(`/server/api/user/${username}/reviews/${reviewId}`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedReview.status.should.be.eql(200);\ndeletedReview.body.should.be.a(&#x27;object&#x27;);\n(0, _chai.expect)(deletedReview.body.updatedUser.removedReview._id).to.equal(reviewId);\ndeletedReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Review deleted successfully !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6184b48b-d8e3-4b0a-86da-d6e795f47420&quot;,&quot;parentUUID&quot;:&quot;8c4659fa-8abc-4fea-8831-fe70cff95578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a review with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should NOT DELETE a review with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const deletedReview = await _chai.default.request(_app.default).delete(`/server/api/user/${_environment.default.ADMIN_PSEUDO}/reviews/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedReview.status.should.be.eql(404);\ndeletedReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No was review found with provided id !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b14682d-f80f-4f79-a7ad-8158641bf332&quot;,&quot;parentUUID&quot;:&quot;8c4659fa-8abc-4fea-8831-fe70cff95578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a review whose user has none&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should NOT DELETE a review whose user has none&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:98,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUser = (0, _make2users.default)().user1;\nconst postUser = await _services.userService.addUser({ ...newUser\n});\nconst username = postUser.createdUser.username;\nconst deletedReview = await _chai.default.request(_app.default).delete(`/server/api/user/${username}/reviews/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedReview.status.should.be.eql(404);\ndeletedReview.body.should.have.property(&#x27;message&#x27;).eql(`${username} doesn&#x27;t have any reviews at the moment !`);\nawait _repository.userRepository.remove({\n  id: postUser.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca8aa29a-ee4b-4a3e-8fcf-88f6b1f9b855&quot;,&quot;parentUUID&quot;:&quot;8c4659fa-8abc-4fea-8831-fe70cff95578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a review for unregistered user&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should NOT DELETE a review for unregistered user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const username = Math.random().toString(36).substr(2, 9);\nconst deletedReview = await _chai.default.request(_app.default).delete(`/server/api/user/${username}/reviews/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedReview.status.should.be.eql(404);\ndeletedReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No user was found with provided email !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f55c927-5aca-462f-983a-3e9cb91b4de7&quot;,&quot;parentUUID&quot;:&quot;8c4659fa-8abc-4fea-8831-fe70cff95578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a review with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should NOT DELETE a review with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const createdReview = await _chai.default.request(_app.default).delete(`/server/api/user/abc/reviews/123`).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nconst createdReview2 = await _chai.default.request(_app.default).delete(`/server/api/user/abc/reviews/123`);\ncreatedReview.status.should.be.eql(401);\ncreatedReview2.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2d9304b-41e6-4b91-9700-5650b08e8884&quot;,&quot;parentUUID&quot;:&quot;8c4659fa-8abc-4fea-8831-fe70cff95578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should make sure a student can&#x27;t delete a review for others&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should make sure a student can&#x27;t delete a review for others&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:340,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst user1Review = await _chai.default.request(_app.default).post(`/server/api/user/${rbac.firstUserId}/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, rbac.logInUser1.token);\nconst user1ReviewId = user1Review.body.updatedUser.reviews._id;\nconst deleteReview = await _chai.default.request(_app.default).delete(`/server/api/user/${rbac.username1}/reviews/${user1ReviewId}`).set(&#x27;Authorization&#x27;, rbac.logInUser2.token);\ndeleteReview.status.should.be.eql(403);\ndeleteReview.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5125fafd-bf87-4084-abe6-2d1f50c1eb43&quot;,&quot;parentUUID&quot;:&quot;8c4659fa-8abc-4fea-8831-fe70cff95578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6184b48b-d8e3-4b0a-86da-d6e795f47420&quot;,&quot;0b14682d-f80f-4f79-a7ad-8158641bf332&quot;,&quot;ca8aa29a-ee4b-4a3e-8fcf-88f6b1f9b855&quot;,&quot;2f55c927-5aca-462f-983a-3e9cb91b4de7&quot;,&quot;b2d9304b-41e6-4b91-9700-5650b08e8884&quot;,&quot;5125fafd-bf87-4084-abe6-2d1f50c1eb43&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:486,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;2d7038ac-043a-4dee-a21a-f67a3f05c29d&quot;,&quot;title&quot;:&quot;Users&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Users \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:84,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;loginUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send(user);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34d9295f-d944-4276-a93f-3fe604f92c1b&quot;,&quot;parentUUID&quot;:&quot;2d7038ac-043a-4dee-a21a-f67a3f05c29d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5cafdfdc-75da-4e2a-b7f6-196daa376833&quot;,&quot;title&quot;:&quot;/login user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should login a user&quot;,&quot;fullTitle&quot;:&quot;Users /login user it should login a user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;loginUser.status.should.be.eql(200);\nloginUser.body.should.have.property(&#x27;token&#x27;);\n(0, _chai.expect)(loginUser.body.success).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e7813cd-a980-4749-95ee-08e39b765c9e&quot;,&quot;parentUUID&quot;:&quot;5cafdfdc-75da-4e2a-b7f6-196daa376833&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT login a user with a wrong password&quot;,&quot;fullTitle&quot;:&quot;Users /login user it should NOT login a user with a wrong password&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:86,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fakeUser = {\n  \&quot;pseudo\&quot;: _environment.default.ADMIN_PSEUDO,\n  \&quot;password\&quot;: \&quot;xxxxxxxxxxxxxx\&quot;\n};\nconst loggedIn = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send(fakeUser);\nloggedIn.status.should.be.eql(401);\nloggedIn.body.should.not.have.property(&#x27;token&#x27;);\n(0, _chai.expect)(loggedIn.body.success).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d0e3dc9-e780-4e50-b213-54747411dea1&quot;,&quot;parentUUID&quot;:&quot;5cafdfdc-75da-4e2a-b7f6-196daa376833&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6e7813cd-a980-4749-95ee-08e39b765c9e&quot;,&quot;4d0e3dc9-e780-4e50-b213-54747411dea1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:86,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;4d0696d5-eaaa-4152-835c-90a216367ac3&quot;,&quot;title&quot;:&quot;/singup user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should create a new user&quot;,&quot;fullTitle&quot;:&quot;Users /singup user it should create a new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:96,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUser = (0, _make2users.default)().user1;\nconst createdUser = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(newUser);\ncreatedUser.status.should.be.eql(201);\ncreatedUser.body.should.have.property(&#x27;message&#x27;).eql(`A verification email has been sent to ${newUser.email}`);\n(0, _chai.expect)(createdUser.body.success).to.be.true;\nawait _repository.userRepository.remove({\n  id: createdUser.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;620ed435-0686-4bb0-806f-754732b60bd6&quot;,&quot;parentUUID&quot;:&quot;4d0696d5-eaaa-4152-835c-90a216367ac3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT create a user if he/she already exists&quot;,&quot;fullTitle&quot;:&quot;Users /singup user it should NOT create a user if he/she already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUser = {\n  \&quot;username\&quot;: _environment.default.ADMIN_PSEUDO,\n  \&quot;email\&quot;: `abc@gmail.com`,\n  \&quot;password\&quot;: &#x27;abc&#x27;\n};\nconst createdUser = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(newUser);\ncreatedUser.status.should.be.eql(409);\ncreatedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;A user with the same username or email already exists !&#x27;);\n(0, _chai.expect)(createdUser.body.success).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba80d926-ab2c-40f6-b907-cfdfdffcbce0&quot;,&quot;parentUUID&quot;:&quot;4d0696d5-eaaa-4152-835c-90a216367ac3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;620ed435-0686-4bb0-806f-754732b60bd6&quot;,&quot;ba80d926-ab2c-40f6-b907-cfdfdffcbce0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:104,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;76568b6a-3bbd-432d-8eba-fd87382ec5e3&quot;,&quot;title&quot;:&quot;/GET users&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all users&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should GET all users&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.token);\nusers.status.should.be.eql(200);\nusers.body.should.be.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ddae0185-3898-470a-a821-2c26a251682a&quot;,&quot;parentUUID&quot;:&quot;76568b6a-3bbd-432d-8eba-fd87382ec5e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET all user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should NOT GET all user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;);\nconst users1 = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;\nusers1.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2cc8be8c-dfa3-431e-99c0-e3d636f7f946&quot;,&quot;parentUUID&quot;:&quot;76568b6a-3bbd-432d-8eba-fd87382ec5e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET all users if the request is sent by a student&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should NOT GET all users if the request is sent by a student&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:329,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst getUsers = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;).set(&#x27;Authorization&#x27;, rbac.logInUser1.token);\ngetUsers.status.should.be.eql(403);\ngetUsers.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0daf89b-24e1-4c16-882b-c22ce0f41625&quot;,&quot;parentUUID&quot;:&quot;76568b6a-3bbd-432d-8eba-fd87382ec5e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ddae0185-3898-470a-a821-2c26a251682a&quot;,&quot;2cc8be8c-dfa3-431e-99c0-e3d636f7f946&quot;,&quot;f0daf89b-24e1-4c16-882b-c22ce0f41625&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:348,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;e97e9902-29ff-4941-967b-1ce3fad48e5c&quot;,&quot;title&quot;:&quot;/GET/:id user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET a user by id&quot;,&quot;fullTitle&quot;:&quot;Users /GET/:id user it should GET a user by id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const getUser = await _chai.default.request(_app.default).get(`/server/api/user/${_environment.default.ADMIN_ID}`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ngetUser.status.should.be.eql(200);\ngetUser.body.should.be.an(&#x27;object&#x27;);\ngetUser.body.should.have.property(&#x27;user&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f4880be1-8e91-4129-b604-300d1528dac0&quot;,&quot;parentUUID&quot;:&quot;e97e9902-29ff-4941-967b-1ce3fad48e5c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a user by a wrong id&quot;,&quot;fullTitle&quot;:&quot;Users /GET/:id user it should NOT GET a user by a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const getUser = await _chai.default.request(_app.default).get(`/server/api/user/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ngetUser.status.should.be.eql(404);\ngetUser.body.should.be.an(&#x27;object&#x27;);\ngetUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found with provided id&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b554a6ae-a2d4-426f-a6fb-e2b08bcc5797&quot;,&quot;parentUUID&quot;:&quot;e97e9902-29ff-4941-967b-1ce3fad48e5c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /GET/:id user it should NOT GET a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;);\nconst users1 = await _chai.default.request(_app.default).get(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2fb2553e-2434-46c2-925b-e5e020b496bc&quot;,&quot;parentUUID&quot;:&quot;e97e9902-29ff-4941-967b-1ce3fad48e5c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should check that a student can&#x27;t get/see another student&#x27;s profile&quot;,&quot;fullTitle&quot;:&quot;Users /GET/:id user it should check that a student can&#x27;t get/see another student&#x27;s profile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:328,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst getProfile = await _chai.default.request(_app.default).get(`/server/api/user/${rbac.createdUser2.createdUser._id}`).set(&#x27;Authorization&#x27;, rbac.logInUser1.token);\ngetProfile.status.should.be.eql(403);\ngetProfile.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74bfd117-c7b8-4d8e-b6cc-68760fb4d404&quot;,&quot;parentUUID&quot;:&quot;e97e9902-29ff-4941-967b-1ce3fad48e5c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f4880be1-8e91-4129-b604-300d1528dac0&quot;,&quot;b554a6ae-a2d4-426f-a6fb-e2b08bcc5797&quot;,&quot;2fb2553e-2434-46c2-925b-e5e020b496bc&quot;,&quot;74bfd117-c7b8-4d8e-b6cc-68760fb4d404&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:360,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;9f5db840-db8c-4e56-8cb8-fbba3512b813&quot;,&quot;title&quot;:&quot;/PATCH/:id user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should PATCH a user by id&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should PATCH a user by id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const patchUser = await _chai.default.request(_app.default).patch(`/server/api/user/${_environment.default.ADMIN_ID}`).set(&#x27;Authorization&#x27;, loginUser.body.token).send(admin);\npatchUser.status.should.be.eql(200);\n(0, _chai.expect)(patchUser.body.updatedUser.username).to.equal(_environment.default.ADMIN_PSEUDO);\npatchUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User info updated successfully&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3da640eb-1524-4572-83bd-fbc0cce01d37&quot;,&quot;parentUUID&quot;:&quot;9f5db840-db8c-4e56-8cb8-fbba3512b813&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a user by a wrong id&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should NOT PATCH a user by a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updateUser = await _chai.default.request(_app.default).patch(`/server/api/user/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token).send(admin);\nupdateUser.status.should.be.eql(404);\nupdateUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found with provided id .&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dbc41d77-9766-4975-a47e-bcdcd6a8b4a6&quot;,&quot;parentUUID&quot;:&quot;9f5db840-db8c-4e56-8cb8-fbba3512b813&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should NOT PATCH a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).patch(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;);\nconst users1 = await _chai.default.request(_app.default).patch(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f815383b-c88a-44df-ad68-4acb8b559ccb&quot;,&quot;parentUUID&quot;:&quot;9f5db840-db8c-4e56-8cb8-fbba3512b813&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should check that a student can&#x27;t update another student&#x27;s profile&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should check that a student can&#x27;t update another student&#x27;s profile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:319,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst updateProfile = await _chai.default.request(_app.default).patch(`/server/api/user/${rbac.createdUser2.createdUser._id}`).set(&#x27;Authorization&#x27;, rbac.logInUser1.token).send({\n  \&quot;username\&quot;: \&quot;abc\&quot;\n});\nupdateProfile.status.should.be.eql(403);\nupdateProfile.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;094637ed-9889-47c3-a867-a9dab972dcc1&quot;,&quot;parentUUID&quot;:&quot;9f5db840-db8c-4e56-8cb8-fbba3512b813&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3da640eb-1524-4572-83bd-fbc0cce01d37&quot;,&quot;dbc41d77-9766-4975-a47e-bcdcd6a8b4a6&quot;,&quot;f815383b-c88a-44df-ad68-4acb8b559ccb&quot;,&quot;094637ed-9889-47c3-a867-a9dab972dcc1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:429,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;9c277ba6-ae84-40a7-ad94-9ff341c9037f&quot;,&quot;title&quot;:&quot;/DELETE/:id user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should DELETE a user by id&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE/:id user it should DELETE a user by id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:96,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUser = (0, _make2users.default)().user1;\nconst createdUser = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(newUser);\nconst deletedUser = await _chai.default.request(_app.default).delete(`/server/api/user/${createdUser.body.user.userId}`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedUser.status.should.be.eql(200);\n(0, _chai.expect)(deletedUser.body.removedUser.username).to.equal(newUser.username);\ndeletedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User deleted successfully !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4dda2518-d432-4325-9779-1737bbb5c98d&quot;,&quot;parentUUID&quot;:&quot;9c277ba6-ae84-40a7-ad94-9ff341c9037f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a user by a wrong id&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE/:id user it should NOT DELETE a user by a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const deletedUser = await _chai.default.request(_app.default).delete(`/server/api/user/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedUser.status.should.be.eql(404);\ndeletedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found with provided id&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6726aeef-6106-46b6-9758-acb0e917a70c&quot;,&quot;parentUUID&quot;:&quot;9c277ba6-ae84-40a7-ad94-9ff341c9037f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE/:id user it should NOT DELETE a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).patch(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;);\nconst users1 = await _chai.default.request(_app.default).patch(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ae51e1e-bb26-4dc9-91e4-981cceeaccce&quot;,&quot;parentUUID&quot;:&quot;9c277ba6-ae84-40a7-ad94-9ff341c9037f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should check that a student can&#x27;t delete another student&#x27;s profile&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE/:id user it should check that a student can&#x27;t delete another student&#x27;s profile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:349,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst deleteProfile = await _chai.default.request(_app.default).delete(`/server/api/user/${rbac.createdUser2.createdUser._id}`).set(&#x27;Authorization&#x27;, rbac.logInUser1.token);\ndeleteProfile.status.should.be.eql(403);\ndeleteProfile.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2fe5b5fe-83d6-485d-82dc-4d60c59eec76&quot;,&quot;parentUUID&quot;:&quot;9c277ba6-ae84-40a7-ad94-9ff341c9037f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4dda2518-d432-4325-9779-1737bbb5c98d&quot;,&quot;6726aeef-6106-46b6-9758-acb0e917a70c&quot;,&quot;7ae51e1e-bb26-4dc9-91e4-981cceeaccce&quot;,&quot;2fe5b5fe-83d6-485d-82dc-4d60c59eec76&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:461,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;0aadaa78-d8de-4f7b-ad1a-156b05388843&quot;,&quot;title&quot;:&quot;/PATCH/:id/score&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should PATCH the user&#x27;s score&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id/score it should PATCH the user&#x27;s score&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adminScore = await _chai.default.request(_app.default).patch(`/server/api/user/${_environment.default.ADMIN_ID}/score`).send({\n  \&quot;score\&quot;: 10\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);\nadminScore.status.should.be.eql(200);\n(0, _chai.expect)(adminScore.body.updatedUser.score).to.equal(10);\n(0, _chai.expect)(adminScore.body.updatedUser.level).to.equal(&#x27;C2&#x27;);\nadminScore.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User info updated successfully !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8362d2df-e4b8-42e6-8eea-a144230f3615&quot;,&quot;parentUUID&quot;:&quot;0aadaa78-d8de-4f7b-ad1a-156b05388843&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should check that a student can&#x27;t update another student&#x27;s score&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id/score it should check that a student can&#x27;t update another student&#x27;s score&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:381,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const rbac = await (0, _rbacTestWith2users.default)();\nconst updateScore = await _chai.default.request(_app.default).patch(`/server/api/user/${rbac.createdUser2.createdUser._id}/score`).set(&#x27;Authorization&#x27;, rbac.logInUser1.token).send({\n  \&quot;score\&quot;: 8\n});\nupdateScore.status.should.be.eql(403);\nupdateScore.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: rbac.createdUser1.createdUser._id\n});\nawait _repository.userRepository.remove({\n  id: rbac.createdUser2.createdUser._id\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75231321-e208-42b1-bc7c-cffe936b748d&quot;,&quot;parentUUID&quot;:&quot;0aadaa78-d8de-4f7b-ad1a-156b05388843&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8362d2df-e4b8-42e6-8eea-a144230f3615&quot;,&quot;75231321-e208-42b1-bc7c-cffe936b748d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:403,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:10000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.1.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;index&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.1.1&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;test-reports/integration&quot;,&quot;reportFilename&quot;:&quot;index&quot;},&quot;version&quot;:&quot;5.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;test-reports/integration&quot;,&quot;reportTitle&quot;:&quot;mean-stack-web-app&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;test-reports\\integration\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\test-reports\\integration\\index.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\test-reports\\integration\\index.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>