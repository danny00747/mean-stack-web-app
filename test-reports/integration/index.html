<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:19,&quot;tests&quot;:45,&quot;passes&quot;:40,&quot;pending&quot;:5,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-08-02T03:51:16.805Z&quot;,&quot;end&quot;:&quot;2020-08-02T03:51:19.727Z&quot;,&quot;duration&quot;:2922,&quot;testsRegistered&quot;:45,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:11.11111111111111,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;7df6b520-aed3-49c0-9e5c-35be9c39b91b&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;07ac048b-3f8b-4af0-85a4-dedc2987270a&quot;,&quot;title&quot;:&quot;Questions&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Questions \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:260,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;loginUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send(user);\npostedQuestion = await _chai.default.request(_app.default).post(&#x27;/server/api/questions&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.token).send(question);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21c2a412-ee11-4ba2-91ff-9bdebaa9b952&quot;,&quot;parentUUID&quot;:&quot;07ac048b-3f8b-4af0-85a4-dedc2987270a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Questions \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await _questions.default.deleteMany({});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca9cf5fe-6cb3-4b8b-a2e5-68ec60c82f77&quot;,&quot;parentUUID&quot;:&quot;07ac048b-3f8b-4af0-85a4-dedc2987270a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9226d2b8-1e1a-496d-82ba-7270dc6e969d&quot;,&quot;title&quot;:&quot;/GET questions&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should get all questions&quot;,&quot;fullTitle&quot;:&quot;Questions /GET questions it should get all questions&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const getQuestion = await _chai.default.request(_app.default).get(&#x27;/server/api/questions&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.token);\ngetQuestion.status.should.be.eql(200);\ngetQuestion.body.should.be.a(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d526c9f3-59d1-4c7a-8ed2-b66097c5147f&quot;,&quot;parentUUID&quot;:&quot;9226d2b8-1e1a-496d-82ba-7270dc6e969d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d526c9f3-59d1-4c7a-8ed2-b66097c5147f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:18,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;bf08edb2-5dd9-40af-ad2b-665082ac7007&quot;,&quot;title&quot;:&quot;/POST questions&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should POST a question &quot;,&quot;fullTitle&quot;:&quot;Questions /POST questions it should POST a question &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;postedQuestion.status.should.be.eql(201);\npostedQuestion.body.should.be.a(&#x27;object&#x27;);\npostedQuestion.body.createdQuestion.should.be.a(&#x27;object&#x27;);\npostedQuestion.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Created question successfully !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e52563a-c9ae-454d-bd71-4e1c0a6e6cae&quot;,&quot;parentUUID&quot;:&quot;bf08edb2-5dd9-40af-ad2b-665082ac7007&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3e52563a-c9ae-454d-bd71-4e1c0a6e6cae&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;9d3e1550-1cc7-47fc-a6fd-d7ae31361024&quot;,&quot;title&quot;:&quot;/GET/:id question&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET a question by the given id&quot;,&quot;fullTitle&quot;:&quot;Questions /GET/:id question it should GET a question by the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).get(`/server/api/questions/${postedQuestion.body.createdQuestion.id}`);\nqst.status.should.be.eql(200);\nqst.body[0].should.have.property(&#x27;question&#x27;).eql(\&quot;what&#x27;s 22 - 150 ?\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;648d79b5-0380-4bf0-9808-0033329209c0&quot;,&quot;parentUUID&quot;:&quot;9d3e1550-1cc7-47fc-a6fd-d7ae31361024&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a question with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Questions /GET/:id question it should NOT GET a question with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2396b868-4d9a-41ff-b094-5265774c4c99&quot;,&quot;parentUUID&quot;:&quot;9d3e1550-1cc7-47fc-a6fd-d7ae31361024&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a question with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Questions /GET/:id question it should NOT GET a question with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).get(`/server/api/questions/1f468dbf5082002118fc8821`);\nqst.status.should.be.eql(404);\nqst.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found for provided id&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;260d0dd3-02e2-4042-82e9-f22d24340adf&quot;,&quot;parentUUID&quot;:&quot;9d3e1550-1cc7-47fc-a6fd-d7ae31361024&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;648d79b5-0380-4bf0-9808-0033329209c0&quot;,&quot;260d0dd3-02e2-4042-82e9-f22d24340adf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;2396b868-4d9a-41ff-b094-5265774c4c99&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:20,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;c097ffe9-fb99-4352-a2dd-2cb2c7e8b095&quot;,&quot;title&quot;:&quot;/PATCH/:id question&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should NOT PATCH a question with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Questions /PATCH/:id question it should NOT PATCH a question with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).patch(`/server/api/questions/5e97314f7cb39f58e4e21ed6`).send(question).set(&#x27;Authorization&#x27;, loginUser.body.token);\nqst.status.should.be.eql(404);\nqst.body.should.be.a(&#x27;object&#x27;);\nqst.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found for provided id&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;97bd6065-7501-42f3-a1f8-cb17189558ef&quot;,&quot;parentUUID&quot;:&quot;c097ffe9-fb99-4352-a2dd-2cb2c7e8b095&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should PATCH a question by the given id&quot;,&quot;fullTitle&quot;:&quot;Questions /PATCH/:id question it should PATCH a question by the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;question.type = \&quot;boolean\&quot;;\nconst qst = await _chai.default.request(_app.default).patch(`/server/api/questions/${postedQuestion.body.createdQuestion.id}`).set(&#x27;Authorization&#x27;, loginUser.body.token).send(question);\nqst.status.should.be.eql(200);\nqst.body.should.have.property(&#x27;updatedQuestion&#x27;);\nqst.body.updatedQuestion.should.have.property(&#x27;type&#x27;).eql(&#x27;boolean&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dfb2cce6-079a-40dd-9421-0368b3765e21&quot;,&quot;parentUUID&quot;:&quot;c097ffe9-fb99-4352-a2dd-2cb2c7e8b095&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a question with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Questions /PATCH/:id question it should NOT PATCH a question with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;45d60150-8d2b-4349-8ff3-673f3d2929f4&quot;,&quot;parentUUID&quot;:&quot;c097ffe9-fb99-4352-a2dd-2cb2c7e8b095&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;97bd6065-7501-42f3-a1f8-cb17189558ef&quot;,&quot;dfb2cce6-079a-40dd-9421-0368b3765e21&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;45d60150-8d2b-4349-8ff3-673f3d2929f4&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:30,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;4ee8cf26-422d-455f-b89b-288955fca072&quot;,&quot;title&quot;:&quot;/DELETE/:id question&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\questions.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should DELETE a question by the given id&quot;,&quot;fullTitle&quot;:&quot;Questions /DELETE/:id question it should DELETE a question by the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const qst = await _chai.default.request(_app.default).delete(`/server/api/questions/${postedQuestion.body.createdQuestion.id}`).set(&#x27;Authorization&#x27;, loginUser.body.token);\nqst.status.should.be.equal(200);\nqst.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Question deleted successfully !&#x27;);\nqst.body.should.have.property(&#x27;deletedQuestion&#x27;).eql(\&quot;what&#x27;s 22 - 150 ?\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;950aba0f-0433-4e28-a4cf-44c9fcb57be3&quot;,&quot;parentUUID&quot;:&quot;4ee8cf26-422d-455f-b89b-288955fca072&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a question with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Questions /DELETE/:id question it should NOT DELETE a question with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const deletedUser = await _chai.default.request(_app.default).delete(&#x27;/server/api/questions/1c7414e51167af71f81f4313&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedUser.status.should.be.equal(404);\ndeletedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found for provided id .&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20647f2c-0d0d-4d2f-ab1b-2560c53f2cf0&quot;,&quot;parentUUID&quot;:&quot;4ee8cf26-422d-455f-b89b-288955fca072&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;950aba0f-0433-4e28-a4cf-44c9fcb57be3&quot;,&quot;20647f2c-0d0d-4d2f-ab1b-2560c53f2cf0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:33,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;dee32ab8-4c7e-4980-8096-04a0032de9ac&quot;,&quot;title&quot;:&quot;Reviews&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Reviews \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:107,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;loginUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send(user);\ncreateReview = await _chai.default.request(_app.default).post(`/server/api/user/${_environment.default.ADMIN_ID}/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e89b176-cc05-485a-b88b-443d0289f67d&quot;,&quot;parentUUID&quot;:&quot;dee32ab8-4c7e-4980-8096-04a0032de9ac&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Reviews \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await _repository.reviewRepository.save({\n  id: _environment.default.ADMIN_ID,\n  new: true,\n  reviews: [{\n    \&quot;rating\&quot;: 3,\n    \&quot;reviewText\&quot;: \&quot;This is the 3rd review !!!\&quot;\n  }]\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83dd5986-3dfe-4da6-9a82-aebeb4fa1fcb&quot;,&quot;parentUUID&quot;:&quot;dee32ab8-4c7e-4980-8096-04a0032de9ac&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0291f724-05e8-432b-90b6-7d75f3976973&quot;,&quot;title&quot;:&quot;/GET reviews&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should get all reviews&quot;,&quot;fullTitle&quot;:&quot;Reviews /GET reviews it should get all reviews&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const reviews = await _chai.default.request(_app.default).get(&#x27;/server/api/reviews/all&#x27;);\nreviews.status.should.be.eql(200);\nreviews.body.should.be.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f9064714-c20e-469c-bde5-98350dc3f9d5&quot;,&quot;parentUUID&quot;:&quot;0291f724-05e8-432b-90b6-7d75f3976973&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f9064714-c20e-469c-bde5-98350dc3f9d5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;bc30de59-b629-466b-a721-08c9f15bb224&quot;,&quot;title&quot;:&quot;/POST review&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should create a review&quot;,&quot;fullTitle&quot;:&quot;Reviews /POST review it should create a review&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;createReview.status.should.be.eql(201);\ncreateReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Review created successfully !&#x27;);\ncreateReview.body.should.be.a(&#x27;object&#x27;);\n(0, _chai.expect)(createReview.body.updatedUser.reviews.rating).to.equal(3);\n(0, _chai.expect)(createReview.body.updatedUser.reviews.reviewText).to.equal(\&quot;This is the 3rd review\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b7d741c3-6282-47ea-b3e4-213c91c357ba&quot;,&quot;parentUUID&quot;:&quot;bc30de59-b629-466b-a721-08c9f15bb224&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT create a review with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Reviews /POST review it should NOT create a review with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80678a13-6e1d-47f8-bebf-c1bd0a24496f&quot;,&quot;parentUUID&quot;:&quot;bc30de59-b629-466b-a721-08c9f15bb224&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT create a review with a wrong user id&quot;,&quot;fullTitle&quot;:&quot;Reviews /POST review it should NOT create a review with a wrong user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const review = await _chai.default.request(_app.default).post(`/server/api/user/1f468dbf5082002118fc8821/reviews`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);\nreview.status.should.be.eql(404);\nreview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found for provided id !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc7c8dba-353a-45fb-9535-930a8c423567&quot;,&quot;parentUUID&quot;:&quot;bc30de59-b629-466b-a721-08c9f15bb224&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b7d741c3-6282-47ea-b3e4-213c91c357ba&quot;,&quot;dc7c8dba-353a-45fb-9535-930a8c423567&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;80678a13-6e1d-47f8-bebf-c1bd0a24496f&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;d2807ef6-89bf-4e21-aceb-7ee97c43886d&quot;,&quot;title&quot;:&quot;/PATCH:id review&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should PATCH a review with the given id&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should PATCH a review with the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userEmail = createReview.body.updatedUser.reviews.author;\nconst reviewId = createReview.body.updatedUser.reviews._id;\nconst updateReview = await _chai.default.request(_app.default).patch(`/server/api/user/${userEmail}/reviews/${reviewId}`).send({\n  \&quot;rating\&quot;: 2,\n  \&quot;reviewText\&quot;: \&quot;This is the 1st review\&quot;\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);\nupdateReview.status.should.be.eql(200);\nupdateReview.body.should.be.a(&#x27;object&#x27;);\nupdateReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Review updated successfully !&#x27;);\n(0, _chai.expect)(updateReview.body.updatedUser.updatedReview.rating).to.equal(2);\n(0, _chai.expect)(updateReview.body.updatedUser.updatedReview.reviewText).to.equal(\&quot;This is the 1st review\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30f7dc21-633d-4455-8c04-0a2cf0b7f21b&quot;,&quot;parentUUID&quot;:&quot;d2807ef6-89bf-4e21-aceb-7ee97c43886d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review for unregistered user&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review for unregistered user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const email = Math.random().toString(36).substr(2, 9);\nconst updatedReview = await _chai.default.request(_app.default).patch(`/server/api/user/${email}@gmail.com/reviews/7e7fd1d5f71b123cbc246700`).send({\n  \&quot;rating\&quot;: 2,\n  \&quot;reviewText\&quot;: \&quot;This is the 1st review\&quot;\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);\nupdatedReview.status.should.be.eql(404);\nupdatedReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No user was found with provided email&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3b5af32-28de-48a4-8672-08a33c66c309&quot;,&quot;parentUUID&quot;:&quot;d2807ef6-89bf-4e21-aceb-7ee97c43886d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updateReview = await _chai.default.request(_app.default).patch(`/server/api/user/${_environment.default.ADMIN_PSEUDO}@gmail.com/reviews/7e7fd1d5f71b123cbc246700`).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 1st review\&quot;\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);\nupdateReview.status.should.be.eql(404);\nupdateReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No was review found with provided id !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e0031bb6-5fdf-4d71-a7fa-6404b5547f52&quot;,&quot;parentUUID&quot;:&quot;d2807ef6-89bf-4e21-aceb-7ee97c43886d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;645bfb7c-733b-4837-883a-062189e03702&quot;,&quot;parentUUID&quot;:&quot;d2807ef6-89bf-4e21-aceb-7ee97c43886d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a review whose user has none&quot;,&quot;fullTitle&quot;:&quot;Reviews /PATCH:id review it should NOT PATCH a review whose user has none&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const randomUser = Math.random().toString(36).substr(2, 6);\nconst newUser = {\n  \&quot;username\&quot;: randomUser,\n  \&quot;email\&quot;: `${randomUser}@gmail.com`,\n  \&quot;password\&quot;: randomUser\n};\nconst createdUser = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(newUser);\nconst userEmail = createdUser.body.user.userEmail;\nconst updateReview = await _chai.default.request(_app.default).patch(`/server/api/user/${userEmail}/reviews/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token).send({\n  \&quot;rating\&quot;: 3,\n  \&quot;reviewText\&quot;: \&quot;This is the 3rd review\&quot;\n});\nupdateReview.status.should.be.eql(404);\nupdateReview.body.should.have.property(&#x27;message&#x27;).eql(`${createdUser.body.user.username} doesn&#x27;t have any reviews at the moment !`);\nawait _users.User.findByIdAndRemove({\n  _id: createdUser.body.user.userId\n}).exec();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e455850e-67fe-4fee-8297-2e26cfe297ff&quot;,&quot;parentUUID&quot;:&quot;d2807ef6-89bf-4e21-aceb-7ee97c43886d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;30f7dc21-633d-4455-8c04-0a2cf0b7f21b&quot;,&quot;c3b5af32-28de-48a4-8672-08a33c66c309&quot;,&quot;e0031bb6-5fdf-4d71-a7fa-6404b5547f52&quot;,&quot;e455850e-67fe-4fee-8297-2e26cfe297ff&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;645bfb7c-733b-4837-883a-062189e03702&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:161,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;bd549ff3-bfb3-468f-a0f5-08bbf7b357f5&quot;,&quot;title&quot;:&quot;/DELETE:id review&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\reviews.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should DELETE a review with the given id&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should DELETE a review with the given id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userEmail = createReview.body.updatedUser.reviews.author;\nconst reviewId = createReview.body.updatedUser.reviews._id;\nconst deletedReview = await _chai.default.request(_app.default).delete(`/server/api/user/${userEmail}/reviews/${reviewId}`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedReview.status.should.be.eql(200);\ndeletedReview.body.should.be.a(&#x27;object&#x27;);\n(0, _chai.expect)(deletedReview.body.updatedUser.removedReview._id).to.equal(reviewId);\ndeletedReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Review deleted successfully !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;59670c64-6fc0-4826-b279-aeae9eb4201d&quot;,&quot;parentUUID&quot;:&quot;bd549ff3-bfb3-468f-a0f5-08bbf7b357f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a review for unregistered user&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should NOT DELETE a review for unregistered user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const email = Math.random().toString(36).substr(2, 9);\nconst deletedReview = await _chai.default.request(_app.default).delete(`/server/api/user/${email}@gmail.com/reviews/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedReview.status.should.be.eql(404);\ndeletedReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No user was found with provided email !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c6ce18cd-3942-4169-8bd8-2715ab214a45&quot;,&quot;parentUUID&quot;:&quot;bd549ff3-bfb3-468f-a0f5-08bbf7b357f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a review with a wrong id&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should NOT DELETE a review with a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const deletedReview = await _chai.default.request(_app.default).delete(`/server/api/user/${_environment.default.ADMIN_PSEUDO}@gmail.com/reviews/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedReview.status.should.be.eql(404);\ndeletedReview.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No was review found with provided id !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a555f162-61d2-416a-a5f4-f887eed1b250&quot;,&quot;parentUUID&quot;:&quot;bd549ff3-bfb3-468f-a0f5-08bbf7b357f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a review with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should NOT DELETE a review with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;97e2fd44-d436-46c7-adb8-9cc8587f2c72&quot;,&quot;parentUUID&quot;:&quot;bd549ff3-bfb3-468f-a0f5-08bbf7b357f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a review whose user has none&quot;,&quot;fullTitle&quot;:&quot;Reviews /DELETE:id review it should NOT DELETE a review whose user has none&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:111,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const randomUser = Math.random().toString(36).substr(2, 6);\nconst newUser = {\n  \&quot;username\&quot;: randomUser,\n  \&quot;email\&quot;: `${randomUser}@gmail.com`,\n  \&quot;password\&quot;: randomUser\n};\nconst createdUser = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(newUser);\nconst userEmail = createdUser.body.user.userEmail;\nconst deletedReview = await _chai.default.request(_app.default).delete(`/server/api/user/${userEmail}/reviews/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedReview.status.should.be.eql(404);\ndeletedReview.body.should.have.property(&#x27;message&#x27;).eql(`${createdUser.body.user.username} doesn&#x27;t have any reviews at the moment !`);\nawait _users.User.findByIdAndRemove({\n  _id: createdUser.body.user.userId\n}).exec();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7965a06-1fea-48a1-8596-7d3dad62990a&quot;,&quot;parentUUID&quot;:&quot;bd549ff3-bfb3-468f-a0f5-08bbf7b357f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;59670c64-6fc0-4826-b279-aeae9eb4201d&quot;,&quot;c6ce18cd-3942-4169-8bd8-2715ab214a45&quot;,&quot;a555f162-61d2-416a-a5f4-f887eed1b250&quot;,&quot;c7965a06-1fea-48a1-8596-7d3dad62990a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;97e2fd44-d436-46c7-adb8-9cc8587f2c72&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:147,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;8026ffe3-3740-44a8-86cd-f334fc92f9d0&quot;,&quot;title&quot;:&quot;Users&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Users \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:88,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;loginUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send(user);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d626bb49-f1ba-423f-9995-5f8b442b8f36&quot;,&quot;parentUUID&quot;:&quot;8026ffe3-3740-44a8-86cd-f334fc92f9d0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;392bb663-b05f-4d8c-a704-a5d36becfca2&quot;,&quot;title&quot;:&quot;/login user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should login a user&quot;,&quot;fullTitle&quot;:&quot;Users /login user it should login a user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;loginUser.status.should.be.eql(200);\nloginUser.body.should.have.property(&#x27;token&#x27;);\n(0, _chai.expect)(loginUser.body.success).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f5e377c-7288-4684-b9c3-215aeb64284a&quot;,&quot;parentUUID&quot;:&quot;392bb663-b05f-4d8c-a704-a5d36becfca2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT login a user with a wrong password&quot;,&quot;fullTitle&quot;:&quot;Users /login user it should NOT login a user with a wrong password&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:83,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fakeUser = {\n  \&quot;pseudo\&quot;: _environment.default.ADMIN_PSEUDO,\n  \&quot;password\&quot;: \&quot;xxxxxxxxxxxxxx\&quot;\n};\nconst loggedIn = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send(fakeUser);\nloggedIn.status.should.be.eql(401);\nloggedIn.body.should.not.have.property(&#x27;token&#x27;);\n(0, _chai.expect)(loggedIn.body.success).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2744082-2d87-4b36-95a8-dbd4a0fc7028&quot;,&quot;parentUUID&quot;:&quot;392bb663-b05f-4d8c-a704-a5d36becfca2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7f5e377c-7288-4684-b9c3-215aeb64284a&quot;,&quot;f2744082-2d87-4b36-95a8-dbd4a0fc7028&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:83,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;f9405de1-4d98-430c-98b0-506014986fe7&quot;,&quot;title&quot;:&quot;/singup user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should create a new user&quot;,&quot;fullTitle&quot;:&quot;Users /singup user it should create a new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:93,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const randomUser = Math.random().toString(36).substr(2, 9);\nconst newUser = {\n  \&quot;username\&quot;: randomUser,\n  \&quot;email\&quot;: `${randomUser}@gmail.com`,\n  \&quot;password\&quot;: randomUser\n};\nconst createdUser = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(newUser);\ncreatedUser.status.should.be.eql(201);\ncreatedUser.body.should.have.property(&#x27;message&#x27;).eql(`A verification email has been sent to ${newUser.email}`);\n(0, _chai.expect)(createdUser.body.success).to.be.true;\nawait _repository.userRepository.remove({\n  id: createdUser.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a1a62c0d-6240-44eb-a3b7-15ab7cb1e444&quot;,&quot;parentUUID&quot;:&quot;f9405de1-4d98-430c-98b0-506014986fe7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT create a user if he/she already exists&quot;,&quot;fullTitle&quot;:&quot;Users /singup user it should NOT create a user if he/she already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const randomUser = Math.random().toString(36).substr(2, 6);\nconst newUser = {\n  \&quot;username\&quot;: _environment.default.ADMIN_PSEUDO,\n  \&quot;email\&quot;: `${randomUser}@gmail.com`,\n  \&quot;password\&quot;: randomUser\n};\nconst createdUser = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(newUser);\ncreatedUser.status.should.be.eql(409);\ncreatedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;A user with the same username or email already exists !&#x27;);\n(0, _chai.expect)(createdUser.body.success).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a45f46d-7040-4ebf-b177-bf4694747869&quot;,&quot;parentUUID&quot;:&quot;f9405de1-4d98-430c-98b0-506014986fe7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a1a62c0d-6240-44eb-a3b7-15ab7cb1e444&quot;,&quot;0a45f46d-7040-4ebf-b177-bf4694747869&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:104,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;6f29c5be-02f5-41ad-9257-8831ce2673f3&quot;,&quot;title&quot;:&quot;/GET users&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all users&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should GET all users&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.token);\nusers.status.should.be.eql(200);\nusers.body.should.be.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;793654ef-a11d-46d0-af64-d480995a7ca4&quot;,&quot;parentUUID&quot;:&quot;6f29c5be-02f5-41ad-9257-8831ce2673f3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET all user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should NOT GET all user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;);\nconst users1 = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;\nusers1.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98ddc1d4-65b6-4837-92b8-e406821a0b39&quot;,&quot;parentUUID&quot;:&quot;6f29c5be-02f5-41ad-9257-8831ce2673f3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET all users if the request is sent by a student&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should NOT GET all users if the request is sent by a student&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:184,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const randomUser = Math.random().toString(36).substr(2, 9);\nconst newUser = {\n  \&quot;username\&quot;: randomUser,\n  \&quot;email\&quot;: `${randomUser}@gmail.com`,\n  \&quot;password\&quot;: randomUser\n};\nconst createdUser = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(newUser);\nawait _repository.userRepository.patch({\n  id: createdUser.body.user.userId,\n  isVerified: true\n});\nconst logInUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send({\n  \&quot;pseudo\&quot;: randomUser,\n  \&quot;password\&quot;: randomUser\n});\nconst getUsers = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;).set(&#x27;Authorization&#x27;, logInUser.body.token);\ngetUsers.status.should.be.eql(403);\ngetUsers.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action`);\nawait _repository.userRepository.remove({\n  id: createdUser.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c2b2be02-2568-40a5-af4b-5e6dc87d82ce&quot;,&quot;parentUUID&quot;:&quot;6f29c5be-02f5-41ad-9257-8831ce2673f3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;793654ef-a11d-46d0-af64-d480995a7ca4&quot;,&quot;98ddc1d4-65b6-4837-92b8-e406821a0b39&quot;,&quot;c2b2be02-2568-40a5-af4b-5e6dc87d82ce&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:210,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;50846624-0ac5-441e-b883-7ea1d21625e2&quot;,&quot;title&quot;:&quot;/GET/:id user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET a user by id&quot;,&quot;fullTitle&quot;:&quot;Users /GET/:id user it should GET a user by id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const getUser = await _chai.default.request(_app.default).get(`/server/api/user/${_environment.default.ADMIN_ID}`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ngetUser.status.should.be.eql(200);\ngetUser.body.should.be.an(&#x27;object&#x27;);\ngetUser.body.should.have.property(&#x27;user&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;638667c3-c95b-49d1-a2cd-f82fc1cdcb6d&quot;,&quot;parentUUID&quot;:&quot;50846624-0ac5-441e-b883-7ea1d21625e2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a user by a wrong id&quot;,&quot;fullTitle&quot;:&quot;Users /GET/:id user it should NOT GET a user by a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const getUser = await _chai.default.request(_app.default).get(`/server/api/user/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ngetUser.status.should.be.eql(404);\ngetUser.body.should.be.an(&#x27;object&#x27;);\ngetUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found with provided id&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;95b46726-fa77-4c4c-abee-a15f5718dd98&quot;,&quot;parentUUID&quot;:&quot;50846624-0ac5-441e-b883-7ea1d21625e2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /GET/:id user it should NOT GET a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;);\nconst users1 = await _chai.default.request(_app.default).get(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af107812-0f40-437d-82b8-856b2e99aa86&quot;,&quot;parentUUID&quot;:&quot;50846624-0ac5-441e-b883-7ea1d21625e2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should check that a student can&#x27;t get/see another student&#x27;s profile&quot;,&quot;fullTitle&quot;:&quot;Users /GET/:id user it should check that a student can&#x27;t get/see another student&#x27;s profile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:274,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const randomUser1 = Math.random().toString(36).substr(2, 9);\nconst randomUser2 = Math.random().toString(36).substr(2, 9);\nconst user1 = {\n  \&quot;username\&quot;: randomUser1,\n  \&quot;email\&quot;: `${randomUser1}@gmail.com`,\n  \&quot;password\&quot;: randomUser1\n};\nconst user2 = {\n  \&quot;username\&quot;: randomUser2,\n  \&quot;email\&quot;: `${randomUser2}@gmail.com`,\n  \&quot;password\&quot;: randomUser2\n};\nconst createdUser1 = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(user1);\nconst createdUser2 = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(user2);\nawait _repository.userRepository.patch({\n  id: createdUser1.body.user.userId,\n  isVerified: true\n});\nconst logInUser1 = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send({\n  \&quot;pseudo\&quot;: randomUser1,\n  \&quot;password\&quot;: randomUser1\n});\nconst getProfile = await _chai.default.request(_app.default).get(`/server/api/user/${createdUser2.body.user.userId}`).set(&#x27;Authorization&#x27;, logInUser1.body.token);\ngetProfile.status.should.be.eql(403);\ngetProfile.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: createdUser1.body.user.userId\n});\nawait _repository.userRepository.remove({\n  id: createdUser2.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a92729b-8cc5-4a61-984d-5b79a4291f2d&quot;,&quot;parentUUID&quot;:&quot;50846624-0ac5-441e-b883-7ea1d21625e2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;638667c3-c95b-49d1-a2cd-f82fc1cdcb6d&quot;,&quot;95b46726-fa77-4c4c-abee-a15f5718dd98&quot;,&quot;af107812-0f40-437d-82b8-856b2e99aa86&quot;,&quot;0a92729b-8cc5-4a61-984d-5b79a4291f2d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:309,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;156e0e00-59f9-4852-9e32-9b406b7e1748&quot;,&quot;title&quot;:&quot;/PATCH/:id user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should PATCH a user by id&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should PATCH a user by id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:89,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const patchUser = await _chai.default.request(_app.default).patch(`/server/api/user/${_environment.default.ADMIN_ID}`).set(&#x27;Authorization&#x27;, loginUser.body.token).send(admin);\npatchUser.status.should.be.eql(200);\n(0, _chai.expect)(patchUser.body.updatedUser.username).to.equal(_environment.default.ADMIN_PSEUDO);\npatchUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User info updated successfully&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;38cd19de-206e-4641-831a-7134421ad868&quot;,&quot;parentUUID&quot;:&quot;156e0e00-59f9-4852-9e32-9b406b7e1748&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a user by a wrong id&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should NOT PATCH a user by a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updateUser = await _chai.default.request(_app.default).patch(`/server/api/user/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token).send(admin);\nupdateUser.status.should.be.eql(404);\nupdateUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found with provided id .&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fdecbb6a-1d57-4b06-85d6-980befc14bcf&quot;,&quot;parentUUID&quot;:&quot;156e0e00-59f9-4852-9e32-9b406b7e1748&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should NOT PATCH a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).patch(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;);\nconst users1 = await _chai.default.request(_app.default).patch(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;59c7b931-19bf-4474-b813-6f0dde5f4efd&quot;,&quot;parentUUID&quot;:&quot;156e0e00-59f9-4852-9e32-9b406b7e1748&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should check that a student can&#x27;t update another student&#x27;s profile&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id user it should check that a student can&#x27;t update another student&#x27;s profile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:283,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const randomUser1 = Math.random().toString(36).substr(2, 9);\nconst randomUser2 = Math.random().toString(36).substr(2, 9);\nconst user1 = {\n  \&quot;username\&quot;: randomUser1,\n  \&quot;email\&quot;: `${randomUser1}@gmail.com`,\n  \&quot;password\&quot;: randomUser1\n};\nconst user2 = {\n  \&quot;username\&quot;: randomUser2,\n  \&quot;email\&quot;: `${randomUser2}@gmail.com`,\n  \&quot;password\&quot;: randomUser2\n};\nconst createdUser1 = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(user1);\nconst createdUser2 = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(user2);\nawait _repository.userRepository.patch({\n  id: createdUser1.body.user.userId,\n  isVerified: true\n});\nconst logInUser1 = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send({\n  \&quot;pseudo\&quot;: randomUser1,\n  \&quot;password\&quot;: randomUser1\n});\nconst updateProfile = await _chai.default.request(_app.default).patch(`/server/api/user/${createdUser2.body.user.userId}`).set(&#x27;Authorization&#x27;, logInUser1.body.token).send({\n  \&quot;username\&quot;: \&quot;abc\&quot;\n});\nupdateProfile.status.should.be.eql(403);\nupdateProfile.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: createdUser1.body.user.userId\n});\nawait _repository.userRepository.remove({\n  id: createdUser2.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b93ee75f-44ba-41a6-9786-257cece76931&quot;,&quot;parentUUID&quot;:&quot;156e0e00-59f9-4852-9e32-9b406b7e1748&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;38cd19de-206e-4641-831a-7134421ad868&quot;,&quot;fdecbb6a-1d57-4b06-85d6-980befc14bcf&quot;,&quot;59c7b931-19bf-4474-b813-6f0dde5f4efd&quot;,&quot;b93ee75f-44ba-41a6-9786-257cece76931&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:389,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;5e1f0206-fac9-4597-9b6d-1b97a401cc80&quot;,&quot;title&quot;:&quot;/DELETE/:id user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should DELETE a user by id&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE/:id user it should DELETE a user by id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:152,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const randomUser = Math.random().toString(36).substr(2, 6);\nconst newUser = {\n  \&quot;username\&quot;: randomUser,\n  \&quot;email\&quot;: `${randomUser}@gmail.com`,\n  \&quot;password\&quot;: randomUser\n};\nconst createdUser = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(newUser);\nconst deletedUser = await _chai.default.request(_app.default).delete(`/server/api/user/${createdUser.body.user.userId}`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedUser.status.should.be.eql(200);\n(0, _chai.expect)(deletedUser.body.removedUser.username).to.equal(newUser.username);\ndeletedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User deleted successfully !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;acc4b5f1-3cac-4b46-b505-33a412c5978e&quot;,&quot;parentUUID&quot;:&quot;5e1f0206-fac9-4597-9b6d-1b97a401cc80&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a user by a wrong id&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE/:id user it should NOT DELETE a user by a wrong id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const deletedUser = await _chai.default.request(_app.default).delete(`/server/api/user/7e7fd1d5f71b123cbc246700`).set(&#x27;Authorization&#x27;, loginUser.body.token);\ndeletedUser.status.should.be.eql(404);\ndeletedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;No valid entry found with provided id&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e3c53602-71ba-4e32-b18a-83d497271a19&quot;,&quot;parentUUID&quot;:&quot;5e1f0206-fac9-4597-9b6d-1b97a401cc80&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE/:id user it should NOT DELETE a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).patch(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;);\nconst users1 = await _chai.default.request(_app.default).patch(&#x27;/server/api/user/1f468dbf5182002118fc8821&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d5f98d0-8892-4b41-94c5-db1787198ac7&quot;,&quot;parentUUID&quot;:&quot;5e1f0206-fac9-4597-9b6d-1b97a401cc80&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should check that a student can&#x27;t delete another student&#x27;s profile&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE/:id user it should check that a student can&#x27;t delete another student&#x27;s profile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:353,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const randomUser1 = Math.random().toString(36).substr(2, 9);\nconst randomUser2 = Math.random().toString(36).substr(2, 9);\nconst user1 = {\n  \&quot;username\&quot;: randomUser1,\n  \&quot;email\&quot;: `${randomUser1}@gmail.com`,\n  \&quot;password\&quot;: randomUser1\n};\nconst user2 = {\n  \&quot;username\&quot;: randomUser2,\n  \&quot;email\&quot;: `${randomUser2}@gmail.com`,\n  \&quot;password\&quot;: randomUser2\n};\nconst createdUser1 = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(user1);\nconst createdUser2 = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(user2);\nawait _repository.userRepository.patch({\n  id: createdUser1.body.user.userId,\n  isVerified: true\n});\nconst logInUser1 = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send({\n  \&quot;pseudo\&quot;: randomUser1,\n  \&quot;password\&quot;: randomUser1\n});\nconst deleteProfile = await _chai.default.request(_app.default).delete(`/server/api/user/${createdUser2.body.user.userId}`).set(&#x27;Authorization&#x27;, logInUser1.body.token);\ndeleteProfile.status.should.be.eql(403);\ndeleteProfile.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: createdUser1.body.user.userId\n});\nawait _repository.userRepository.remove({\n  id: createdUser2.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0aa883e6-f1c1-44d3-a9fc-785028efbdd7&quot;,&quot;parentUUID&quot;:&quot;5e1f0206-fac9-4597-9b6d-1b97a401cc80&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;acc4b5f1-3cac-4b46-b505-33a412c5978e&quot;,&quot;e3c53602-71ba-4e32-b18a-83d497271a19&quot;,&quot;3d5f98d0-8892-4b41-94c5-db1787198ac7&quot;,&quot;0aa883e6-f1c1-44d3-a9fc-785028efbdd7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:542,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;3357e779-ab46-4cac-b6c9-eb9d0aee4e07&quot;,&quot;title&quot;:&quot;/PATCH/:id/score&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should PATCH the user&#x27;s score&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id/score it should PATCH the user&#x27;s score&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adminScore = await _chai.default.request(_app.default).patch(`/server/api/user/${_environment.default.ADMIN_ID}/score`).send({\n  \&quot;score\&quot;: 10\n}).set(&#x27;Authorization&#x27;, loginUser.body.token);\nadminScore.status.should.be.eql(200);\n(0, _chai.expect)(adminScore.body.updatedUser.score).to.equal(10);\n(0, _chai.expect)(adminScore.body.updatedUser.level).to.equal(&#x27;C2&#x27;);\nadminScore.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User info updated successfully !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5010a6fa-93fc-4362-99a7-c7d7411442da&quot;,&quot;parentUUID&quot;:&quot;3357e779-ab46-4cac-b6c9-eb9d0aee4e07&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should check that a student can&#x27;t update another student&#x27;s score&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH/:id/score it should check that a student can&#x27;t update another student&#x27;s score&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:292,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const randomUser1 = Math.random().toString(36).substr(2, 9);\nconst randomUser2 = Math.random().toString(36).substr(2, 9);\nconst user1 = {\n  \&quot;username\&quot;: randomUser1,\n  \&quot;email\&quot;: `${randomUser1}@gmail.com`,\n  \&quot;password\&quot;: randomUser1\n};\nconst user2 = {\n  \&quot;username\&quot;: randomUser2,\n  \&quot;email\&quot;: `${randomUser2}@gmail.com`,\n  \&quot;password\&quot;: randomUser2\n};\nconst createdUser1 = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(user1);\nconst createdUser2 = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send(user2);\nawait _repository.userRepository.patch({\n  id: createdUser1.body.user.userId,\n  isVerified: true\n});\nconst logInUser1 = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send({\n  \&quot;pseudo\&quot;: randomUser1,\n  \&quot;password\&quot;: randomUser1\n});\nconst updateScore = await _chai.default.request(_app.default).patch(`/server/api/user/${createdUser2.body.user.userId}/score`).set(&#x27;Authorization&#x27;, logInUser1.body.token).send({\n  \&quot;score\&quot;: 8\n});\nupdateScore.status.should.be.eql(403);\nupdateScore.body.should.have.property(&#x27;message&#x27;).eql(`You don&#x27;t have enough permission to perform this action !`);\nawait _repository.userRepository.remove({\n  id: createdUser1.body.user.userId\n});\nawait _repository.userRepository.remove({\n  id: createdUser2.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e5d3e19-1bb6-49a9-a8ad-ac4757d778d9&quot;,&quot;parentUUID&quot;:&quot;3357e779-ab46-4cac-b6c9-eb9d0aee4e07&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5010a6fa-93fc-4362-99a7-c7d7411442da&quot;,&quot;9e5d3e19-1bb6-49a9-a8ad-ac4757d778d9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:306,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:10000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.1.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;index&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.1.1&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;test-reports/integration&quot;,&quot;reportFilename&quot;:&quot;index&quot;},&quot;version&quot;:&quot;5.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;test-reports/integration&quot;,&quot;reportTitle&quot;:&quot;mean-stack-web-app&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;test-reports\\integration\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\test-reports\\integration\\index.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\morga\\Documents\\mean-stack-web-app\\test-reports\\integration\\index.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>